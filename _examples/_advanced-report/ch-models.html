<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl" xml:lang="nl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Prognosemodel Retentie na 1 jaar – No Fairness without Awareness - Advanced</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ch-factors.html" rel="next">
<link href="./ch-introduction.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-0626ff4d7a71b55c8707dcae1d04a9b6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2d8d5bf1ebe9b9250812659bbfb1ff2b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Geen resultaten",
    "search-matching-documents-text": "Gevonden documenten",
    "search-copy-link-title": "Kopieer link om te zoeken",
    "search-hide-matches-text": "Extra overeenkomsten verbergen",
    "search-more-match-text": "meer overeenkomst in dit document",
    "search-more-matches-text": "meer overeenkomsten in dit document",
    "search-clear-button-title": "Wissen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuleren",
    "search-submit-button-title": "Verzenden",
    "search-label": "Zoeken"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>
<link rel="shortcut icon" href="brand/favicon/favicon.svg">
<link rel="icon" type="image/x-icon" href="brand/favicon/favicon.ico">


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">No Fairness without Awareness - Advanced</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Zoeken"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Schakel navigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.dehaagsehogeschool.nl/onderzoek/centres-expertise/no-fairness-without-awareness"> <i class="bi bi-info-square" role="img" aria-label="Over het onderzoek No Fairness without Awareness">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/LTA-HHs/lta-hhs-tidymodels-studiesucces/" title="Broncode" class="quarto-navigation-tool px-1" aria-label="Broncode"><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Schakel zijbalknavigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Schakel zijbalknavigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Prognosemodel Retentie na 1 jaar</span></h1>
        </a>     
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Samenvatting</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Analyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Inleiding</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch-models.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Prognosemodel Retentie na 1 jaar</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch-factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Analyse van factoren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch-equity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Analyse van kansengelijkheid</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch-references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referenties</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Bijlagen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./x-a-appendix-abbreviations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Afkortingen</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhoudsopgave</h2>
   
  <ul>
  <li><a href="#methode-data-en-analyse" id="toc-methode-data-en-analyse" class="nav-link active" data-scroll-target="#methode-data-en-analyse"><span class="header-section-number">2.1</span> Methode, data en analyse</a>
  <ul class="collapse">
  <li><a href="#toelichting-op-de-methode" id="toc-toelichting-op-de-methode" class="nav-link" data-scroll-target="#toelichting-op-de-methode"><span class="header-section-number">2.1.1</span> Toelichting op de methode</a></li>
  <li><a href="#toelichting-op-de-data" id="toc-toelichting-op-de-data" class="nav-link" data-scroll-target="#toelichting-op-de-data"><span class="header-section-number">2.1.2</span> Toelichting op de data</a></li>
  <li><a href="#toelichting-op-de-analyse" id="toc-toelichting-op-de-analyse" class="nav-link" data-scroll-target="#toelichting-op-de-analyse"><span class="header-section-number">2.1.3</span> Toelichting op de analyse</a></li>
  </ul></li>
  <li><a href="#voorbereidingen" id="toc-voorbereidingen" class="nav-link" data-scroll-target="#voorbereidingen"><span class="header-section-number">2.2</span> Voorbereidingen</a>
  <ul class="collapse">
  <li><a href="#laad-de-data" id="toc-laad-de-data" class="nav-link" data-scroll-target="#laad-de-data"><span class="header-section-number">2.2.1</span> Laad de data</a></li>
  <li><a href="#selecteer-en-inspecteer-de-data" id="toc-selecteer-en-inspecteer-de-data" class="nav-link" data-scroll-target="#selecteer-en-inspecteer-de-data"><span class="header-section-number">2.2.2</span> Selecteer en inspecteer de data</a></li>
  <li><a href="#bewerk-de-data" id="toc-bewerk-de-data" class="nav-link" data-scroll-target="#bewerk-de-data"><span class="header-section-number">2.2.3</span> Bewerk de data</a></li>
  <li><a href="#inspecteer-de-onderlinge-correlaties" id="toc-inspecteer-de-onderlinge-correlaties" class="nav-link" data-scroll-target="#inspecteer-de-onderlinge-correlaties"><span class="header-section-number">2.2.4</span> Inspecteer de onderlinge correlaties</a></li>
  <li><a href="#bouw-de-trainingset-validatieset-en-testset" id="toc-bouw-de-trainingset-validatieset-en-testset" class="nav-link" data-scroll-target="#bouw-de-trainingset-validatieset-en-testset"><span class="header-section-number">2.2.5</span> Bouw de trainingset, validatieset en testset</a></li>
  </ul></li>
  <li><a href="#model-i-logistische-regressie" id="toc-model-i-logistische-regressie" class="nav-link" data-scroll-target="#model-i-logistische-regressie"><span class="header-section-number">2.3</span> Model I: Logistische Regressie</a>
  <ul class="collapse">
  <li><a href="#maak-het-model" id="toc-maak-het-model" class="nav-link" data-scroll-target="#maak-het-model"><span class="header-section-number">2.3.1</span> Maak het model</a></li>
  <li><a href="#maak-de-recipe" id="toc-maak-de-recipe" class="nav-link" data-scroll-target="#maak-de-recipe"><span class="header-section-number">2.3.2</span> Maak de recipe</a></li>
  <li><a href="#maak-de-workflow" id="toc-maak-de-workflow" class="nav-link" data-scroll-target="#maak-de-workflow"><span class="header-section-number">2.3.3</span> Maak de workflow</a></li>
  <li><a href="#tune-en-train-het-model" id="toc-tune-en-train-het-model" class="nav-link" data-scroll-target="#tune-en-train-het-model"><span class="header-section-number">2.3.4</span> Tune en train het model</a></li>
  <li><a href="#kies-het-beste-model" id="toc-kies-het-beste-model" class="nav-link" data-scroll-target="#kies-het-beste-model"><span class="header-section-number">2.3.5</span> Kies het beste model</a></li>
  </ul></li>
  <li><a href="#model-ii-tree-based-ensemble" id="toc-model-ii-tree-based-ensemble" class="nav-link" data-scroll-target="#model-ii-tree-based-ensemble"><span class="header-section-number">2.4</span> Model II: Tree-based ensemble</a>
  <ul class="collapse">
  <li><a href="#bepaal-het-aantal-pc-cores" id="toc-bepaal-het-aantal-pc-cores" class="nav-link" data-scroll-target="#bepaal-het-aantal-pc-cores"><span class="header-section-number">2.4.1</span> Bepaal het aantal PC-cores</a></li>
  <li><a href="#maak-het-model-1" id="toc-maak-het-model-1" class="nav-link" data-scroll-target="#maak-het-model-1"><span class="header-section-number">2.4.2</span> Maak het model</a></li>
  <li><a href="#maak-de-recipe-1" id="toc-maak-de-recipe-1" class="nav-link" data-scroll-target="#maak-de-recipe-1"><span class="header-section-number">2.4.3</span> Maak de recipe</a></li>
  <li><a href="#maak-de-workflow-1" id="toc-maak-de-workflow-1" class="nav-link" data-scroll-target="#maak-de-workflow-1"><span class="header-section-number">2.4.4</span> Maak de workflow</a></li>
  <li><a href="#tune-en-train-het-model-1" id="toc-tune-en-train-het-model-1" class="nav-link" data-scroll-target="#tune-en-train-het-model-1"><span class="header-section-number">2.4.5</span> Tune en train het model</a></li>
  <li><a href="#kies-het-beste-model-1" id="toc-kies-het-beste-model-1" class="nav-link" data-scroll-target="#kies-het-beste-model-1"><span class="header-section-number">2.4.6</span> Kies het beste model</a></li>
  </ul></li>
  <li><a href="#de-uiteindelijke-fit" id="toc-de-uiteindelijke-fit" class="nav-link" data-scroll-target="#de-uiteindelijke-fit"><span class="header-section-number">2.5</span> De uiteindelijke fit</a>
  <ul class="collapse">
  <li><a href="#combineer-de-aucroc-curves-en-kies-het-beste-model" id="toc-combineer-de-aucroc-curves-en-kies-het-beste-model" class="nav-link" data-scroll-target="#combineer-de-aucroc-curves-en-kies-het-beste-model"><span class="header-section-number">2.5.1</span> Combineer de AUC/ROC curves en kies het beste model</a></li>
  <li><a href="#maak-het-finale-model" id="toc-maak-het-finale-model" class="nav-link" data-scroll-target="#maak-het-finale-model"><span class="header-section-number">2.5.2</span> Maak het finale model</a></li>
  <li><a href="#maak-de-workflow-2" id="toc-maak-de-workflow-2" class="nav-link" data-scroll-target="#maak-de-workflow-2"><span class="header-section-number">2.5.3</span> Maak de workflow</a></li>
  <li><a href="#fit-het-finale-model" id="toc-fit-het-finale-model" class="nav-link" data-scroll-target="#fit-het-finale-model"><span class="header-section-number">2.5.4</span> Fit het finale model</a></li>
  <li><a href="#evalueer-het-finale-model-metrieken-en-variable-importance" id="toc-evalueer-het-finale-model-metrieken-en-variable-importance" class="nav-link" data-scroll-target="#evalueer-het-finale-model-metrieken-en-variable-importance"><span class="header-section-number">2.5.5</span> Evalueer het finale model: metrieken en variable importance</a></li>
  <li><a href="#plot-de-roc-curve" id="toc-plot-de-roc-curve" class="nav-link" data-scroll-target="#plot-de-roc-curve"><span class="header-section-number">2.5.6</span> Plot de ROC curve</a></li>
  </ul></li>
  <li><a href="#conclusies" id="toc-conclusies" class="nav-link" data-scroll-target="#conclusies"><span class="header-section-number">2.6</span> Conclusies</a>
  <ul class="collapse">
  <li><a href="#het-beste-prognosemodel-voor-deze-opleiding" id="toc-het-beste-prognosemodel-voor-deze-opleiding" class="nav-link" data-scroll-target="#het-beste-prognosemodel-voor-deze-opleiding"><span class="header-section-number">2.6.1</span> Het beste prognosemodel voor deze opleiding</a></li>
  <li><a href="#mate-van-accuraatheid-en-lift" id="toc-mate-van-accuraatheid-en-lift" class="nav-link" data-scroll-target="#mate-van-accuraatheid-en-lift"><span class="header-section-number">2.6.2</span> Mate van accuraatheid en lift</a></li>
  <li><a href="#confusion-matrix" id="toc-confusion-matrix" class="nav-link" data-scroll-target="#confusion-matrix"><span class="header-section-number">2.6.3</span> Confusion Matrix</a></li>
  <li><a href="#uitleggen-of-verklaren" id="toc-uitleggen-of-verklaren" class="nav-link" data-scroll-target="#uitleggen-of-verklaren"><span class="header-section-number">2.6.4</span> Uitleggen of verklaren?</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/LTA-HHs/lta-hhs-tidymodels-studiesucces/issues/new" class="toc-action"><i class="bi bi-github"></i>Een probleem melden</a></li></ul></div><div class="quarto-other-links"><h2>Meer informatie</h2><ul><li><a href="https://www.dehaagsehogeschool.nl/onderzoek/lectoraten/learning-technology-analytics"><i class="bi bi-link-45deg"></i>Over het lectoraat Learning Technology &amp; Analytics</a></li><li><a href="https://www.dehaagsehogeschool.nl/onderzoek/kenniscentra/no-fairness-without-awareness"><i class="bi bi-link-45deg"></i>Over het onderzoeksprogramma 'No Fairness without Awareness'</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Prognosemodel Retentie na 1 jaar</span></h1>
<p class="subtitle lead">Een analyse van kansengelijkheid in studiesucces (Retentie na 1 jaar)</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- HEADER -->
<!-- Studyprogram short -->
<p><strong>Communication and Multimedia Design</strong> (CMD), voltijd, eerstejaars, Faculteit IT &amp; Design (ITD).</p>
<p>&nbsp;</p>
<!-- Methods -->
<section id="methode-data-en-analyse" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="methode-data-en-analyse"><span class="header-section-number">2.1</span> Methode, data en analyse</h2>
<section id="toelichting-op-de-methode" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="toelichting-op-de-methode"><span class="header-section-number">2.1.1</span> Toelichting op de methode</h3>
<p>Voor de ontwikkeling van prognosemodellen gebruiken we de aanpak van <a href="https://www.tidymodels.org/">Tidymodels</a>. Tidymodels is een framework voor het bouwen van een prognosemodel. Hiermee verzekeren we ons van een systematische, herhaalbare en schaalbare aanpak. De code in deze pagina wordt getoond als deze hoort bij de ontwikkeling van een model. Overige code, voor bijvoorbeeld algemene tabellen of grafieken, kan zichtbaar gemaakt worden.</p>
</section>
<section id="toelichting-op-de-data" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="toelichting-op-de-data"><span class="header-section-number">2.1.2</span> Toelichting op de data</h3>
<p>De basis voor deze analyse is studiedata van De Haagse Hogeschool (De HHs), verrijkt door het lectoraat LTA. De data bevat informatie over de inschrijvingen van studenten in het eerste jaar van de opleiding:</p>
<ol type="1">
<li><em>Demografische kenmerken</em>: geslacht, leeftijd, reistijd en SES totaalscore.</li>
<li><em>Vooropleidingskenmerken</em>: toelaatgevende vooropleiding, studiekeuzeprofiel en gemiddeld eindcijfer in de vooropleiding.</li>
<li><em>Aanmeldingskenmerken</em>: aansluiting (direct na diploma, tussenjaar, switch), dag van aanmelding, aantal parallelle studies aan De HHs en collegejaar.</li>
</ol>
<p>De variabelen die we hebben geselecteerd voor analyse is op basis van standaardgegevens van een popoluatie (leeftijd en geslacht), eerdere analsyes op voorspelkracht voor retentie na 1 jaar <span class="citation" data-cites="Bakker.2022">(<a href="ch-references.html#ref-Bakker.2022" role="doc-biblioref">Bakker, 2022</a>)</span>, of omdat een kenmerk volgens Europese normen geldt als een sensitief kenmerk voor discriminatie <span class="citation" data-cites="handboek.2018">(<a href="ch-references.html#ref-handboek.2018" role="doc-biblioref"><em>European Union Agency for Fundamental Rights</em>, 2018</a>)</span>.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data dictionary</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>df_data_dictionary <span class="ot">&lt;-</span> <span class="fu">get_data_dictionary</span>()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the data dictionary</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">get_tbl_data_dictionary</span>(df_data_dictionary)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-data-dictionary" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-data-dictionary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.1: Variabelen en mogelijke waarden
</figcaption>
<div aria-describedby="tbl-data-dictionary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-f2721b2e{table-layout:auto;width:100%;}.cl-f26c56c6{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f26c56d0{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f2708660{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f2709164{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f270916e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f270916f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2709170{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2709178{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2709179{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f270917a{background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2709182{background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2709183{background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2709184{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f270918c{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f270918d{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(190, 190, 190, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f270918e{background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f270918f{background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2709190{background-color:rgba(242, 242, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(190, 190, 190, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-f2721b2e"><thead><tr style="overflow-wrap:break-word;"><th class="cl-f2709164"><p class="cl-f2708660"><span class="cl-f26c56c6">Variabele</span></p></th><th class="cl-f270916e"><p class="cl-f2708660"><span class="cl-f26c56c6">Toelichting</span></p></th><th class="cl-f270916f"><p class="cl-f2708660"><span class="cl-f26c56c6">Mogelijke waarden</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f2709170"><p class="cl-f2708660"><span class="cl-f26c56d0">Aanmelding</span></p></td><td class="cl-f2709178"><p class="cl-f2708660"><span class="cl-f26c56d0">De dag van de aanmelding voor de studie gerekend vanaf 1 september</span></p></td><td class="cl-f2709179"><p class="cl-f2708660"><span class="cl-f26c56d0">-366 - 366</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Aansluiting</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">De manier waarop een student instroomt in de opleiding</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">2e studie, Direct, Na CD, Onbekend, Overig, Switch Extern, Switch Intern, Tussenjaar</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">APCG</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Of de student ten tijde van het behalen van de toelaatgevende vooropleiding in een armoedeprobleemcumulatiegebied woonde</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">Ja, Nee, Onbekend</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Cijfer_CE_Engels</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">Het gemiddelde cijfer Engels van het centaal examen van de middelbare school</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">0-10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">Cijfer_CE_Natuurkunde</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Het gemiddelde cijfer voor Natuurkunde van het centaal examen van de middelbare school</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">0-10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Cijfer_CE_Nederlands</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">Het gemiddelde cijfer Nederlands van het centaal examen van de middelbare school</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">0-10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">Cijfer_CE_VO</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Het gemiddelde cijfer voor het centaal examen van de middelbare school</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">0-10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Cijfer_CE_Wiskunde</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">Het gemiddelde cijfer voor Wiskunde van het centaal examen van de middelbare school</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">0-10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">Cijfer_SE_VO</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Het gemiddelde cijfer voor het schoolexamen van de middelbare school</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">0-10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Collegejaar</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">Het collegejaar van de inschrijving</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">2012-2022</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">Dubbele_studie</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Gegeven of de student meer dan 1 studie volgt</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">Ja, Nee</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Geslacht</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">Het geslacht van de student</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">M, V</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">ID</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Uniek nummer per student</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Leeftijd</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">De leeftijd van de student op 1 oktober</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">16-100</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">Ranking</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">De positie die de student heeft in de selectie voor de opleiding (alleen bij de B Huidtherapie)</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">0-350</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">Reistijd</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">De reistijd van de student naar de vestiging van de opleiding op een maandag om 9 uur met het openbaar vervoer vanaf de postcode waarop de student woonde ten tijde van het behalen van de toelaatgevende vooropleiding in minuten</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">0-120</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">Retentie</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Of de student doorstudeert na het eerste studiejaar</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">Ja, Nee</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">SES_Arbeid</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">De sociaaleconomische status score op arbeid van het CBS op basis van de postcode waarop de student woonde ten tijde van het behalen van de toelaatgevende vooropleiding</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">-1 - 1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">SES_Totaal</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">De sociaaleconomische status score totaal van het CBS op basis van de postcode waarop de student woonde ten tijde van het behalen van de toelaatgevende vooropleiding</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">-1 - 1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270917a"><p class="cl-f2708660"><span class="cl-f26c56d0">SES_Welvaart</span></p></td><td class="cl-f2709182"><p class="cl-f2708660"><span class="cl-f26c56d0">De sociaaleconomische status score op welvaart van het CBS op basis van de postcode waarop de student woonde ten tijde van het behalen van de toelaatgevende vooropleiding</span></p></td><td class="cl-f2709183"><p class="cl-f2708660"><span class="cl-f26c56d0">-1 - 1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2709184"><p class="cl-f2708660"><span class="cl-f26c56d0">Studiekeuzeprofiel</span></p></td><td class="cl-f270918c"><p class="cl-f2708660"><span class="cl-f26c56d0">Het studiekeuzeprofiel in het voortgezet onderwijs (havo of vwo) of profiel in het mbo</span></p></td><td class="cl-f270918d"><p class="cl-f2708660"><span class="cl-f26c56d0">AHO, ALG, CERT, CM, EA, EM, EM&amp;CM, HB, HO, ICT, MedV, NG, NT, NT&amp;NG, Onbekend, TP, TR, TSL, VNL, VS, ZW</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f270918e"><p class="cl-f2708660"><span class="cl-f26c56d0">Vooropleiding</span></p></td><td class="cl-f270918f"><p class="cl-f2708660"><span class="cl-f26c56d0">De toelaatgevende vooropleiding</span></p></td><td class="cl-f2709190"><p class="cl-f2708660"><span class="cl-f26c56d0">BD, CD, HAVO, HO, MBO, Overig, VWO</span></p></td></tr></tbody></table></div>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="toelichting-op-de-analyse" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="toelichting-op-de-analyse"><span class="header-section-number">2.1.3</span> Toelichting op de analyse</h3>
<p>We toetsen in deze analyse <em>Retentie na 1 jaar</em>, voortaan <strong>Retentie</strong> genoemd.</p>
<ul>
<li>Retentie is gedefinieerd als ingeschreven staan in dezelfde opleiding in een aansluitend collegejaar. Een wisseling van opleidingsvorm binnen de opleiding, bijvoorbeeld van voltijd in jaar 1 naar duaal in jaar 2, geldt ook als retentie.</li>
<li>Uitval is het tegenovergestelde van retentie: niet ingeschreven staan in dezelfde opleiding in een aansluitend collegejaar.</li>
<li>Een wisseling van opleidingsvorm binnen de opleiding, bijvoorbeeld van voltijd in jaar 1 naar duaal in jaar 2, geldt <em>niet</em> als uitval.</li>
</ul>
<!-- Data -->
</section>
</section>
<section id="voorbereidingen" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="voorbereidingen"><span class="header-section-number">2.2</span> Voorbereidingen</h2>
<section id="laad-de-data" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="laad-de-data"><span class="header-section-number">2.2.1</span> Laad de data</h3>
<p>We laden een subset in van historische data specifiek voor:</p>
<p><strong>Opleiding</strong>: ITD | B Communication and Multimedia Design (Synth) (CMD), VT, eerstejaars - <strong>Retentie na 1 jaar</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data for this study programme</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (params<span class="sc">$</span>use_synthetic_data) {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  df_sp_enrollments <span class="ot">&lt;-</span> <span class="fu">get_sp_enrollments_syn</span>(<span class="at">sp =</span> params<span class="sc">$</span>sp,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                                              <span class="at">sp_form =</span> <span class="fu">toupper</span>(params<span class="sc">$</span>sp_form)) <span class="sc">|&gt;</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ID =</span> <span class="fu">as.character</span>(ID),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">INS_Opleiding =</span> <span class="fu">as.character</span>(INS_Opleiding),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">INS_Opleidingsvorm =</span> <span class="fu">as.character</span>(INS_Opleidingsvorm)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">INS_Student_UUID_opleiding_vorm =</span> <span class="fu">paste</span>(ID, INS_Opleiding, INS_Opleidingsvorm, <span class="at">sep =</span> <span class="st">"_"</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">INS_Opleidingsnaam_huidig =</span> <span class="fu">paste</span>(INS_Opleidingsnaam_huidig, <span class="st">"(Synth.)"</span>, <span class="at">sep =</span> <span class="st">" "</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  df_sp_enrollments <span class="ot">&lt;-</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_lta_studyprogram_enrollments_pin</span>(<span class="at">board =</span> <span class="st">"HHs/Inschrijvingen"</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">faculty =</span> params<span class="sc">$</span>faculty,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">studyprogram =</span> params<span class="sc">$</span>sp,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">sp =</span> params<span class="sc">$</span>sp,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">sp_form =</span> <span class="fu">toupper</span>(params<span class="sc">$</span>sp_form),</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">range =</span> <span class="st">"eerstejaars"</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust df_sp_enrollments</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>df_sp_enrollments <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span> </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rearrange the levels</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(<span class="fu">names</span>(levels_formal)), </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">factor</span>(.x,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>                         <span class="at">levels =</span> levels_formal[[<span class="fu">cur_column</span>()]]))) <span class="sc">|&gt;</span> </span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a simple success variable</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_retention</span>(succes_model) <span class="sc">|&gt;</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert the success variable into a factor</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SUC_Retentie =</span> <span class="fu">as.factor</span>(SUC_Retentie)) <span class="sc">|&gt;</span> </span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Special possibly based on the propaedeutic diploma</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter_pd(pd) |&gt;</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make the Dual Study variable a Yes/No variable</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_parallel_sp</span>() <span class="sc">|&gt;</span>  </span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove INS_Aantal_inschrijvingen</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>INS_Aantal_inschrijvingen) </span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="do">## Adjust the levels of sensitive variables</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> sensitive_formal_variables){</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>  df_sp_enrollments <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_levels</span>(</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>      i,</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(levels_formal[[i]])</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a><span class="co"># B Huidtherapie: Filter on only students with a grade number (selection)</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (sp <span class="sc">==</span> <span class="st">"HDT"</span>) {</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>  df_sp_enrollments <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span> </span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(RNK_Rangnummer)) </span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>} </span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="selecteer-en-inspecteer-de-data" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="selecteer-en-inspecteer-de-data"><span class="header-section-number">2.2.2</span> Selecteer en inspecteer de data</h3>
<p>We selecteren eerst de relevante variabelen. We verwijderen daarbij variabelen die maar één waarde hebben, omdat die geen voorspellende waarde kunnen hebben.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>list_select <span class="ot">&lt;-</span> <span class="fu">get_list_select</span>(df_variables, <span class="st">"VAR_Formal_variable"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># B Huidtherapie: add the variable RNK_Rangnummer unless it is HDT</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (sp <span class="sc">==</span> <span class="st">"HDT"</span>) {</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  list_select <span class="ot">&lt;-</span> <span class="fu">c</span>(list_select, <span class="st">"RNK_Rangnummer"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a mapping with formal and simple maes</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>name_mapping_list <span class="ot">&lt;-</span> <span class="fu">setNames</span>(df_variables<span class="sc">$</span>VAR_Simple_variable, df_variables<span class="sc">$</span>VAR_Formal_variable)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subset</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>df_sp_enrollments <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the relevant variables</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(list_select)) <span class="sc">|&gt;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename variables for more readable names</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> name_mapping_list[.x], <span class="at">.cols =</span> <span class="fu">everything</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adjust CBS_APCG_tf to a factor</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_apcg</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Indicate where missing numbers are in VO</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_grade_preeducation</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove variables, where there is only 1 value</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(<span class="sc">~</span> <span class="fu">n_distinct</span>(.) <span class="sc">&gt;</span> <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Collegejaar, ID)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>df_sp_enrollments <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span> </span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort_distinct</span>()</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We inspecteren de variabelen in een samenvatting in relatie tot retentie en corrigeren daarbij voor multiple testing; de gecorrigeerde significantie-waarden staan vermeld als <em>q-value</em>.</p>
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a summary of the data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df_summary <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove columns not relevant to the analysis</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(ID, Collegejaar)) <span class="sc">|&gt;</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adjust the labels of Retention from True to Ja, and from False to Nee</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Retentie =</span> <span class="fu">fct_recode</span>(Retentie, <span class="st">"Nee"</span> <span class="ot">=</span> <span class="st">"FALSE"</span>, <span class="st">"Ja"</span> <span class="ot">=</span> <span class="st">"TRUE"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adjust the order of the labels of Retentie</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Retentie =</span> <span class="fu">fct_relevel</span>(Retentie, <span class="st">"Ja"</span>, <span class="st">"Nee"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adjust Studiekeuzeprofiel: if NA, then unknown</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Studiekeuzeprofiel =</span> <span class="fu">coalesce</span>(Studiekeuzeprofiel, <span class="st">"Onbekend"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Factor all character variables</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), as.factor))</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a tbl_df of the summary</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>tbl_summary <span class="ot">&lt;-</span> <span class="fu">get_tbl_summary</span>(df_summary) </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>tbl_summary</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-summary-data" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-summary-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.2: Variabelen in relatie tot de uitkomstmaat: Retentie na 1 jaar
</figcaption>
<div aria-describedby="tbl-summary-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="tabwid"><style>.cl-f4390012{table-layout:auto;width:80%;}.cl-f434fa58{font-family:'Helvetica';font-size:8pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f434fa59{font-family:'Helvetica';font-size:8pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f434fa62{font-family:'Helvetica';font-size:4.8pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:2.4pt;}.cl-f4364dfe{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f4364dff{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f4364e00{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f4364e01{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f4364e08{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:15pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f4365fb0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fb1{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fb2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fb3{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fba{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fbb{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fbc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fc4{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fc5{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fc6{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fce{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fcf{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fd8{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fd9{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fda{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fe2{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fe3{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fec{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fed{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fee{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365fef{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365ff6{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365ff7{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4365ff8{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366000{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366001{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366002{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436600a{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436600b{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436600c{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366014{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366015{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366016{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436601e{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436601f{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366020{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366028{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366029{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436602a{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366032{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366033{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436603c{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436603d{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436603e{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366046{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366047{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366048{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366050{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366051{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366052{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436605a{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436605b{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436605c{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366064{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366065{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366066{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436606e{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436606f{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366070{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366078{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366079{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366082{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366083{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f4366084{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436608c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f436608d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-f4390012"><thead><tr style="overflow-wrap:break-word;"><th class="cl-f4365fb0"><p class="cl-f4364dfe"><span class="cl-f434fa58"> </span></p></th><th colspan="2" class="cl-f4365fb1"><p class="cl-f4364dff"><span class="cl-f434fa59">Retentie</span></p></th><th colspan="3" class="cl-f4365fb3"><p class="cl-f4364dff"><span class="cl-f434fa58"> </span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-f4365fbc"><p class="cl-f4364dfe"><span class="cl-f434fa59">Variabele</span></p></th><th class="cl-f4365fc4"><p class="cl-f4364dff"><span class="cl-f434fa59">Ja</span><span class="cl-f434fa58">, N=1002 (62%)</span><span class="cl-f434fa62">1</span></p></th><th class="cl-f4365fc5"><p class="cl-f4364dff"><span class="cl-f434fa59">Nee</span><span class="cl-f434fa58">, N=611 (38%)</span><span class="cl-f434fa62">1</span></p></th><th class="cl-f4365fc6"><p class="cl-f4364dff"><span class="cl-f434fa59">p-value</span><span class="cl-f434fa62">2</span></p></th><th class="cl-f4365fce"><p class="cl-f4364dff"><span class="cl-f434fa59">q-value</span><span class="cl-f434fa62">3</span></p></th><th class="cl-f4365fcf"><p class="cl-f4364dff"><span class="cl-f434fa59">Totaal</span><span class="cl-f434fa58">, N = 1613</span><span class="cl-f434fa62">1</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f4365fd8"><p class="cl-f4364e00"><span class="cl-f434fa59">Aanmelding</span></p></td><td class="cl-f4365fd9"><p class="cl-f4364e01"><span class="cl-f434fa58">135,80 (62,44)</span></p></td><td class="cl-f4365fda"><p class="cl-f4364e01"><span class="cl-f434fa58">112,36 (68,57)</span></p></td><td class="cl-f4365fe2"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001</span></p></td><td class="cl-f4365fe3"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001***</span></p></td><td class="cl-f4365fec"><p class="cl-f4364e01"><span class="cl-f434fa58">126,92 (65,80)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4365fed"><p class="cl-f4364e00"><span class="cl-f434fa59">Aansluiting</span></p></td><td class="cl-f4365fee"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4365fef"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4365ff6"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001</span></p></td><td class="cl-f4365ff7"><p class="cl-f4364e01"><span class="cl-f434fa58">0,012***</span></p></td><td class="cl-f4365ff8"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Direct</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">455 (60%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">301 (40%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">756 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Tussenjaar</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">125 (71%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">51 (29%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">176 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Switch intern</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">148 (73%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">54 (27%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">202 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Switch extern</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">254 (57%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">191 (43%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">445 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">2e Studie</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">6 (40%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">9 (60%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">15 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Na CD</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">14 (74%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">5 (26%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">19 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e08"><span class="cl-f434fa58">Overig</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Onbekend</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366028"><p class="cl-f4364e00"><span class="cl-f434fa59">APCG</span></p></td><td class="cl-f4366029"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436602a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366032"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001</span></p></td><td class="cl-f4366033"><p class="cl-f4364e01"><span class="cl-f434fa58">0,013***</span></p></td><td class="cl-f436603c"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">224 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">133 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">357 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">721 (64%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">411 (36%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">1.132 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Onbekend</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">57 (46%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">67 (54%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">124 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Engels</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58">6,93 (1,18)</span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58">7,07 (1,10)</span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58">0,16</span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58">6,98 (1,15)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Engels_missing</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58">0,70</span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">533 (62%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">331 (38%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">864 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">469 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">280 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">749 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f436603d"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Natuurkunde</span></p></td><td class="cl-f436603e"><p class="cl-f4364e01"><span class="cl-f434fa58">6,18 (0,96)</span></p></td><td class="cl-f4366046"><p class="cl-f4364e01"><span class="cl-f434fa58">6,31 (0,95)</span></p></td><td class="cl-f4366047"><p class="cl-f4364e01"><span class="cl-f434fa58">0,21</span></p></td><td class="cl-f4366048"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366050"><p class="cl-f4364e01"><span class="cl-f434fa58">6,23 (0,95)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Natuurkunde_missing</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58">0,68</span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">867 (62%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">533 (38%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">1.400 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">135 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">78 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">213 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f436603d"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Nederlands</span></p></td><td class="cl-f436603e"><p class="cl-f4364e01"><span class="cl-f434fa58">5,94 (0,85)</span></p></td><td class="cl-f4366046"><p class="cl-f4364e01"><span class="cl-f434fa58">5,96 (0,91)</span></p></td><td class="cl-f4366047"><p class="cl-f4364e01"><span class="cl-f434fa58">0,86</span></p></td><td class="cl-f4366048"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366050"><p class="cl-f4364e01"><span class="cl-f434fa58">5,95 (0,87)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Nederlands_missing</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58">0,61</span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">533 (62%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">333 (38%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">866 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">469 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">278 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">747 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f436603d"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_VO</span></p></td><td class="cl-f436603e"><p class="cl-f4364e01"><span class="cl-f434fa58">6,46 (0,37)</span></p></td><td class="cl-f4366046"><p class="cl-f4364e01"><span class="cl-f434fa58">6,35 (0,34)</span></p></td><td class="cl-f4366047"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001</span></p></td><td class="cl-f4366048"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001***</span></p></td><td class="cl-f4366050"><p class="cl-f4364e01"><span class="cl-f434fa58">6,42 (0,36)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_VO_missing</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58">0,59</span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">488 (61%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">306 (39%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">794 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">514 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">305 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">819 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f436603d"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Wiskunde</span></p></td><td class="cl-f436603e"><p class="cl-f4364e01"><span class="cl-f434fa58">6,35 (1,12)</span></p></td><td class="cl-f4366046"><p class="cl-f4364e01"><span class="cl-f434fa58">6,28 (1,07)</span></p></td><td class="cl-f4366047"><p class="cl-f4364e01"><span class="cl-f434fa58">0,65</span></p></td><td class="cl-f4366048"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366050"><p class="cl-f4364e01"><span class="cl-f434fa58">6,33 (1,10)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_CE_Wiskunde_missing</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58">0,64</span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">544 (62%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">339 (38%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">883 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">458 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">272 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">730 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f436603d"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_SE_VO</span></p></td><td class="cl-f436603e"><p class="cl-f4364e01"><span class="cl-f434fa58">6,46 (0,38)</span></p></td><td class="cl-f4366046"><p class="cl-f4364e01"><span class="cl-f434fa58">6,35 (0,36)</span></p></td><td class="cl-f4366047"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001</span></p></td><td class="cl-f4366048"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001***</span></p></td><td class="cl-f4366050"><p class="cl-f4364e01"><span class="cl-f434fa58">6,42 (0,38)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e00"><span class="cl-f434fa59">Cijfer_SE_VO_missing</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58">0,59</span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">501 (61%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">314 (39%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">815 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">501 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">297 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">798 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366028"><p class="cl-f4364e00"><span class="cl-f434fa59">Dubbele_studie</span></p></td><td class="cl-f4366029"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436602a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366032"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001</span></p></td><td class="cl-f4366033"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001***</span></p></td><td class="cl-f436603c"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Ja</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">12 (26%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">34 (74%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">46 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Nee</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">990 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">577 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">1.567 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366028"><p class="cl-f4364e00"><span class="cl-f434fa59">Geslacht</span></p></td><td class="cl-f4366029"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436602a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366032"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001</span></p></td><td class="cl-f4366033"><p class="cl-f4364e01"><span class="cl-f434fa58">&lt;0,001***</span></p></td><td class="cl-f436603c"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">M</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">521 (57%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">394 (43%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">915 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">V</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">481 (69%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">217 (31%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">698 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4365fed"><p class="cl-f4364e00"><span class="cl-f434fa59">Leeftijd</span></p></td><td class="cl-f4365fee"><p class="cl-f4364e01"><span class="cl-f434fa58">20,01 (2,26)</span></p></td><td class="cl-f4365fef"><p class="cl-f4364e01"><span class="cl-f434fa58">20,19 (2,61)</span></p></td><td class="cl-f4365ff6"><p class="cl-f4364e01"><span class="cl-f434fa58">0,48</span></p></td><td class="cl-f4365ff7"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f4365ff8"><p class="cl-f4364e01"><span class="cl-f434fa58">20,08 (2,40)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e00"><span class="cl-f434fa59">Reistijd</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">37,01 (18,38)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">38,84 (22,79)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58">0,79</span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">37,70 (20,17)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e00"><span class="cl-f434fa59">SES_Arbeid</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">0,01 (0,08)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">0,01 (0,08)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58">0,57</span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">0,01 (0,08)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e00"><span class="cl-f434fa59">SES_Totaal</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">0,02 (0,28)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">0,01 (0,27)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58">0,45</span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">0,02 (0,28)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e00"><span class="cl-f434fa59">SES_Welvaart</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">0,01 (0,13)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">0,01 (0,13)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58">0,36</span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99</span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">0,01 (0,13)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366051"><p class="cl-f4364e00"><span class="cl-f434fa59">Studiekeuzeprofiel</span></p></td><td class="cl-f4366052"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436605a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436605b"><p class="cl-f4364e01"><span class="cl-f434fa58">0,046</span></p></td><td class="cl-f436605c"><p class="cl-f4364e01"><span class="cl-f434fa58">&gt;0,99*</span></p></td><td class="cl-f4366064"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">AHO</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">2 (67%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">1 (33%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">3 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">ALG</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (0%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">1 (100%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">1 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">CERT</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">1 (100%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (0%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">1 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">CM</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">78 (72%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">30 (28%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">108 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">EA</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">36 (67%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">18 (33%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">54 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">EM</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">118 (56%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">93 (44%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">211 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">EM&amp;CM</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">152 (70%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">66 (30%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">218 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">HB</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">8 (62%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">5 (38%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">13 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">HO</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">27 (57%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">20 (43%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">47 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">ICT</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">82 (64%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">47 (36%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">129 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">MedV</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">132 (65%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">72 (35%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">204 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">NG</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">115 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">68 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">183 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">NT</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">56 (60%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">38 (40%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">94 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">NT&amp;NG</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">62 (60%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">41 (40%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">103 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">Onbekend</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">90 (52%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">83 (48%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">173 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">TP</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">2 (40%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">3 (60%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">5 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">TR</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">5 (56%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">4 (44%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">9 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">TSL</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">4 (80%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">1 (20%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">5 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">VNL</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">8 (80%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">2 (20%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">10 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">VS</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">1 (33%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">2 (67%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">3 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">ZW</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">23 (59%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">16 (41%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">39 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4365fd8"><p class="cl-f4364e00"><span class="cl-f434fa59">Vooropleiding</span></p></td><td class="cl-f4365fd9"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4365fda"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4365fe2"><p class="cl-f4364e01"><span class="cl-f434fa58">0,015</span></p></td><td class="cl-f4365fe3"><p class="cl-f4364e01"><span class="cl-f434fa58">0,36*</span></p></td><td class="cl-f4365fec"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">MBO</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">330 (63%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">192 (37%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">522 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">HAVO</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">548 (64%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">312 (36%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">860 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">VWO</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">34 (59%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">24 (41%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">58 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">BD</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">42 (46%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">50 (54%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">92 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">CD</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">21 (70%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">9 (30%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">30 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366000"><p class="cl-f4364e08"><span class="cl-f434fa58">HO</span></p></td><td class="cl-f4366001"><p class="cl-f4364e01"><span class="cl-f434fa58">27 (53%)</span></p></td><td class="cl-f4366002"><p class="cl-f4364e01"><span class="cl-f434fa58">24 (47%)</span></p></td><td class="cl-f436600a"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600b"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436600c"><p class="cl-f4364e01"><span class="cl-f434fa58">51 (100%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366014"><p class="cl-f4364e08"><span class="cl-f434fa58">Overig</span></p></td><td class="cl-f4366015"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f4366016"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f436601e"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f436601f"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366020"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f4366065"><p class="cl-f4364e08"><span class="cl-f434fa58">Onbekend</span></p></td><td class="cl-f4366066"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f436606e"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td><td class="cl-f436606f"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366070"><p class="cl-f4364e01"><span class="cl-f434fa58"></span></p></td><td class="cl-f4366078"><p class="cl-f4364e01"><span class="cl-f434fa58">0 (NA%)</span></p></td></tr></tbody><tfoot><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-f4366079"><p class="cl-f4364dfe"><span class="cl-f434fa62">1</span><span class="cl-f434fa58">Mean (SD); n (%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-f4366079"><p class="cl-f4364dfe"><span class="cl-f434fa62">2</span><span class="cl-f434fa58">Wilcoxon rank sum test; Fisher's Exact Test for Count Data with simulated p-value</span><br> <span class="cl-f434fa58"> (based on 2000 replicates); Pearson's Chi-squared test</span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-f4366079"><p class="cl-f4364dfe"><span class="cl-f434fa62">3</span><span class="cl-f434fa58">*p&lt;0.05; **p&lt;0.01; ***p&lt;0.001</span></p></td></tr></tfoot></table></div>
</div>
</figure>
</div>
<p>Daarnaast inspecteren we de kwaliteit van de data op missende waarden.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load dlookr (temporary to avoid conflicts)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(dlookr))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Show a summary of the data, sorted by missing values</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">diagnose</span>(df_sp_enrollments) <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">missing_percent =</span> <span class="fu">round</span>(missing_percent, <span class="dv">2</span>),</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">unique_rate =</span> <span class="fu">round</span>(missing_percent, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(missing_percent)) <span class="sc">|&gt;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Variabelen"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Type"</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"# Missende waarden"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"% Missende waarden"</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"# Unieke waarden"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Ratio unieke waarden"</span>))</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Detach dlookr</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">"package:dlookr"</span>, <span class="at">unload =</span> <span class="cn">TRUE</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-summarizy-missing-before" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-summarizy-missing-before-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.3: Kwaliteit van de data voor bewerkingen (gesorteerd op missende waarden)
</figcaption>
<div aria-describedby="tbl-summarizy-missing-before-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 8%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variabelen</th>
<th style="text-align: left;">Type</th>
<th style="text-align: right;"># Missende waarden</th>
<th style="text-align: right;">% Missende waarden</th>
<th style="text-align: right;"># Unieke waarden</th>
<th style="text-align: right;">Ratio unieke waarden</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Natuurkunde</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">1400</td>
<td style="text-align: right;">86.79</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">86.79</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Wiskunde</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">883</td>
<td style="text-align: right;">54.74</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">54.74</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Nederlands</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">866</td>
<td style="text-align: right;">53.69</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">53.69</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Engels</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">864</td>
<td style="text-align: right;">53.56</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">53.56</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_SE_VO</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">815</td>
<td style="text-align: right;">50.53</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">50.53</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_VO</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">794</td>
<td style="text-align: right;">49.23</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">49.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Studiekeuzeprofiel</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">173</td>
<td style="text-align: right;">10.73</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">10.73</td>
</tr>
<tr class="even">
<td style="text-align: left;">SES_Welvaart</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">7.81</td>
<td style="text-align: right;">355</td>
<td style="text-align: right;">7.81</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SES_Arbeid</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">7.75</td>
<td style="text-align: right;">261</td>
<td style="text-align: right;">7.75</td>
</tr>
<tr class="even">
<td style="text-align: left;">SES_Totaal</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">7.75</td>
<td style="text-align: right;">459</td>
<td style="text-align: right;">7.75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reistijd</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">1.24</td>
<td style="text-align: right;">362</td>
<td style="text-align: right;">1.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aanmelding</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">266</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Aansluiting</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">APCG</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Engels_missing</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Natuurkunde_missing</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Nederlands_missing</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_VO_missing</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Wiskunde_missing</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_SE_VO_missing</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Collegejaar</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dubbele_studie</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Geslacht</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">ID</td>
<td style="text-align: left;">character</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1613</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Leeftijd</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Retentie</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Vooropleiding</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="bewerk-de-data" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="bewerk-de-data"><span class="header-section-number">2.2.3</span> Bewerk de data</h3>
<ul>
<li>Uit de eerste diagnose blijkt dat niet alle variabelen goed genoeg zijn voor het bouwen van een prognosemodel: er zijn missende waarden en niet alle veldtypes zijn geschikt.</li>
<li>Om bias te voorkomen verwijderen we geen rijen met missende waarden, maar vullen die op (<em>imputatie</em>). We bewerken de data zo dat alle missende waarden worden opgevuld: bij numerieke waarden met het gemiddelde en bij categorische variabelen met ‘Onbekend’.</li>
<li>We passen het type van sommige variabelen aan, zodat ze in het model gebruikt kunnen worden: tekstvelden zetten we om naar factor (een categorische variabele); logische variabelen (Ja/Nee) zetten we om naar een numerieke variabele (1/0).</li>
<li>De uitkomstvariabele, <code>Retentie</code>, leiden we af van de variabele <code>SUC_Uitval_aantal_jaar_LTA</code>. Als de waarde daar 1 is, is de student na 1 jaar uitgevallen, 2 na 2 jaar, etc. Zolang de waarde daar 0 is, is de student niet uitgevallen.</li>
<li>Een fictief studentnummer (<code>INS_Student_UUID_opleiding_vorm</code>) gebruiken we, zodat we – als er afwijkende resultaten zijn – de dataset gericht kunnen onderzoeken als dat nodig is.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit the data</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df_sp_enrollments <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Imputate all numeric variables with the mean</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="sc">~</span> <span class="fu">ifelse</span>(</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(.x),</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    .x</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  ))) <span class="sc">|&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert character variables to factor</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), as.factor)) <span class="sc">|&gt;</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert logical variables to 0 or 1</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.logical), as.integer)) <span class="sc">|&gt;</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fill in factors missing values with “Unknown”</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.factor), <span class="sc">~</span> <span class="fu">suppressWarnings</span>(</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fct_explicit_na</span>(.x, <span class="at">na_level =</span> <span class="st">"Onbekend"</span>)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  ))) <span class="sc">|&gt;</span> </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rearrange the columns so that Retentie is in front</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Retentie, <span class="fu">everything</span>()) </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Load dlookr (temporary to avoid conflicts)</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(dlookr))</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Diagnose the data</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="fu">diagnose</span>(df_sp_enrollments) <span class="sc">|&gt;</span> </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">missing_percent =</span> <span class="fu">round</span>(missing_percent, <span class="dv">2</span>),</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">unique_rate =</span> <span class="fu">round</span>(unique_rate, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Variabelen"</span>,</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Type"</span>,</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"# Missende waarden"</span>,</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"% Missende waarden"</span>,</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"# Unieke waarden"</span>,</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Ratio unieke waarden"</span>))</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Detach dlookr</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">"package:dlookr"</span>, <span class="at">unload =</span> <span class="cn">TRUE</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-summarizy-missing-after" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-summarizy-missing-after-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.4: Kwaliteit van de data na bewerkingen (gesorteerd op missende waarden)
</figcaption>
<div aria-describedby="tbl-summarizy-missing-after-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 26%">
<col style="width: 7%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variabelen</th>
<th style="text-align: left;">Type</th>
<th style="text-align: right;"># Missende waarden</th>
<th style="text-align: right;">% Missende waarden</th>
<th style="text-align: right;"># Unieke waarden</th>
<th style="text-align: right;">Ratio unieke waarden</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Retentie</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aanmelding</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">266</td>
<td style="text-align: right;">0.16</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Aansluiting</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">APCG</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Engels</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Engels_missing</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Natuurkunde</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0.03</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Natuurkunde_missing</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Nederlands</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">0.03</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Nederlands_missing</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_VO</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_VO_missing</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Wiskunde</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">0.03</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Wiskunde_missing</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_SE_VO</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_SE_VO_missing</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Collegejaar</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dubbele_studie</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Geslacht</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">ID</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1613</td>
<td style="text-align: right;">1.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Leeftijd</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Reistijd</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">362</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SES_Arbeid</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">261</td>
<td style="text-align: right;">0.16</td>
</tr>
<tr class="even">
<td style="text-align: left;">SES_Totaal</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">459</td>
<td style="text-align: right;">0.28</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SES_Welvaart</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">355</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="even">
<td style="text-align: left;">Studiekeuzeprofiel</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Vooropleiding</td>
<td style="text-align: left;">factor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="inspecteer-de-onderlinge-correlaties" class="level3" data-number="2.2.4">
<h3 data-number="2.2.4" class="anchored" data-anchor-id="inspecteer-de-onderlinge-correlaties"><span class="header-section-number">2.2.4</span> Inspecteer de onderlinge correlaties</h3>
<p>Het is verstandig om voorafgaand aan het bouwen van een model te kijken naar de onderlinge correlaties tussen numerieke variabelen. Dit geeft inzicht in de data en kan helpen bij het maken van keuzes voor het model of de duiding van de uitkomsten.</p>
<p>We selecteren uitsluitend numerieke waarden en variabelen die een standaard deviatie hebben die groter is dan 0. We clusteren de data op basis van 4 clusters. De correlatie van de diagonaal verbergen we, aangezien deze altijd 1 is.</p>
<p>Clusters in correlaties kunnen per opleiding verschillen. Onderzoek in de correlaties hoe sterk deze zijn, welke clusters gevormd worden en of deze – vanuit de context van de opleiding, faculteit of onderwijsinstelling – logisch zijn. Verwerk de inzichten eventueel in een oplegger. Gangbare clusters zijn:</p>
<ul>
<li>Cijfers: Een correlatie tussen Cijfer SO en Cijfer VO: dit geeft aan dat het schoolexamen hetzelfde meet als het centraal examen. Exacte vakken en talen kunnen met elkaar correleren.</li>
<li>Reistijd en SES: Deze zijn gecorreleerd aangezien SES scores zijn afgeleid van wijken. Wijken hebben een specifieke reistijd en positionering ten opzichte van de vestigingslocaties van De HHs kennen.</li>
<li>Leeftijd is vaak niet gecorreleerd met andere variabelen.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot of the intercorrelations in numerical variables</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove columns with a standard deviation of 0</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>df_correlation <span class="ot">&lt;-</span> df_sp_enrollments <span class="sc">|&gt;</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Collegejaar) <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">|&gt;</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(<span class="sc">~</span> <span class="fu">sd</span>(.) <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>df_correlation <span class="sc">|&gt;</span>  </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  corrplot<span class="sc">::</span><span class="fu">corrplot</span>(<span class="at">order =</span> <span class="st">"hclust"</span>, </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">addrect =</span> <span class="dv">4</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">"number"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">hclust.method =</span> <span class="st">"complete"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tl.cex =</span> <span class="fl">0.8</span>,       </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tl.col =</span> <span class="st">"black"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">diag =</span> <span class="cn">FALSE</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-corplot-data" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-corplot-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-corplot-data-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figuur&nbsp;2.1: Correlatiematrix"><img src="ch-models_files/figure-html/fig-corplot-data-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corplot-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.1: Correlatiematrix
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply hierarchical clustering</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dist   <span class="ot">&lt;-</span> <span class="fu">as.dist</span>(<span class="dv">1</span> <span class="sc">-</span> df_correlation)      <span class="co"># Create a distance matrix</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>hclust <span class="ot">&lt;-</span> <span class="fu">hclust</span>(dist, <span class="at">method =</span> <span class="st">"complete"</span>)  <span class="co"># Hierarchical clustering</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a clustering</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>df_clusters <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hclust, <span class="at">k =</span> <span class="dv">4</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Show clustering</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># df_clusters</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="bouw-de-trainingset-validatieset-en-testset" class="level3" data-number="2.2.5">
<h3 data-number="2.2.5" class="anchored" data-anchor-id="bouw-de-trainingset-validatieset-en-testset"><span class="header-section-number">2.2.5</span> Bouw de trainingset, validatieset en testset</h3>
<ul>
<li>De data is nu geschikt om een prognosemodel mee te bouwen.</li>
<li>Om het model te bouwen, testen en valideren, splitsen we de data in drie delen van 60%, 20% en 20%. We doen dit op zo’n manier, dat elk deel ongeveer een gelijk aantal studenten bevat dat doorstudeert (dus niet uitvalt).</li>
<li>We trainen het model op basis van 60% en valideren de modellen tijdens het trainen op de overige 20% (de validatieset).</li>
<li>De verdeling van de training- en validatieset muteren we 10x (10 <em>folds</em>) om te voorkomen dat het model te veel leert van de trainingset en daardoor slecht presteert op de validatieset.</li>
<li>Als het model klaar is, testen we het op de 20% studenten uit de testset. De testset blijft dus de gehele tijd ongemoeid, zodat we overfitting - een te goed model op bekende data, maar slechte presetaties (<em>performance</em>) op onbekende data - voorkomen.</li>
<li>Een willekeurig, maar vaststaand <em>seed</em>-getal voorkomt dat we bij elke run van het model c.q. deze code een net iets andere uitkomst krijgen.</li>
</ul>
<p>We ontwikkelen in de verdere analyse eerst een aantal modellen en testen de prestaties daarvan op de trainingset en validiatieset. Vervolgens bepalen we welk model het beste presteert en passen dat model dan toe op de testset (de uiteindelijke fit). Vandaar dat het toetsen van de prestaties van de modellen meerdere keren behandeld wordt.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/images"</span>, <span class="st">"prognosemodel-dataset-lta-hhs.png"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-dataset-split" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dataset-split-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="R/images/prognosemodel-dataset-lta-hhs.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figuur&nbsp;2.2: Splitsing van de dataset in trainingset, validatieset en testset"><img src="R/images/prognosemodel-dataset-lta-hhs.png" class="img-fluid figure-img" style="width:80.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dataset-split-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.2: Splitsing van de dataset in trainingset, validatieset en testset
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">0821</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into 3 parts: 60%, 20% and 20%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>splits      <span class="ot">&lt;-</span> <span class="fu">initial_validation_split</span>(df_sp_enrollments,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">strata =</span> Retentie,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">prop =</span> <span class="fu">c</span>(<span class="fl">0.6</span>, <span class="fl">0.2</span>))</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create three sets: a training set, a test set and a validation set</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>df_retention_train      <span class="ot">&lt;-</span> <span class="fu">training</span>(splits)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>df_retention_test       <span class="ot">&lt;-</span> <span class="fu">testing</span>(splits)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>df_retention_validation <span class="ot">&lt;-</span> <span class="fu">validation_set</span>(splits)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a resample set based on 10 folds (default)</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>df_retention_resamples  <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(df_retention_train, <span class="at">strata =</span> Retentie)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div id="tbl-split-data" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-split-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.5: Verhouding van de uitkomstvariabele in de training- en testset
</figcaption>
<div aria-describedby="tbl-split-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Naam</th>
<th style="text-align: left;">Retentie</th>
<th style="text-align: right;">Aantal</th>
<th style="text-align: left;">Proportie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Trainingset</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">366</td>
<td style="text-align: left;">37.8%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Trainingset</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">601</td>
<td style="text-align: left;">62.2%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Testset</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">123</td>
<td style="text-align: left;">38.0%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Testset</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">201</td>
<td style="text-align: left;">62.0%</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<!-- MODEL I: Penalized Logistic Regression -->
</section>
</section>
<section id="model-i-logistische-regressie" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="model-i-logistische-regressie"><span class="header-section-number">2.3</span> Model I: Logistische Regressie</h2>
<ul>
<li>Het eerste model is een <a href="https://wikistatistiek.amc.nl/Logistische_regressie">logistische regressie met penalized likelihood</a>; we gebruiken de <code>glmnet</code> engine voor het bouwen van het model. Penalized likelihood is een techniek die helpt bij het voorkomen van overfitting: het voegt voor elke extra variabele een strafterm toe om eenvoudige modellen te belonen. <a href="https://glmnet.stanford.edu/articles/glmnet.html">Glmnet</a> is een veelgebruikt package voor het bouwen van logistische regressiemodellen.</li>
<li>We gebruiken de <a href="https://nl.wikipedia.org/wiki/ROC-curve">Area under the ROC Curve (AUC/ROC)</a> als performance metric. De ROC-curve (Receiver Operating Characteristic) is een grafiek die de prestaties van een classificatiemodel afbeeldt door de verhouding tussen de <em>true positives</em> (sensitiviteit) en de <em>false positives</em> (aspecficiteit = 1-specificiteit) te plotten bij verschillende drempelwaarden. De oppervlakte onder deze curve, bekend als de AUC (Area Under the Curve), kwantificeert het onderscheidingsvermogen van het model; een AUC van 1 duidt op een perfect onderscheidend vermogen, terwijl een AUC van 0,5 wijst op een model zonder onderscheidend vermogen.</li>
</ul>
<section id="maak-het-model" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="maak-het-model"><span class="header-section-number">2.3.1</span> Maak het model</h3>
<p>Eerst bouwen we het model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the model: logistic regression</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>lr_mod <span class="ot">&lt;-</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">logistic_reg</span>(<span class="at">penalty =</span> <span class="fu">tune</span>(), <span class="at">mixture =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"glmnet"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="maak-de-recipe" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="maak-de-recipe"><span class="header-section-number">2.3.2</span> Maak de recipe</h3>
<p>Vervolgens zetten we meerdere stappen in een ‘recipe’:</p>
<ul>
<li>We definiëren de student-ID als ID variabele. Daarmee krijgt deze variabele de rol van uniek rij-kenmerk.</li>
<li>We verwijderen vervolgens de oorspronkelijke student-ID en het collegejaar uit de data, omdat deze verder niet gebruikt moeten worden in het model.</li>
<li>We converteren factoren naar dummy variabelen: voor elke categorie wordt er een nieuwe logische variabele (Ja/Nee) aangemaakt.</li>
<li>We verwijderen variabelen die geen waarde toevoegen: variabelen met uitsluitend nullen.</li>
<li>We normaliseren numerieke variabelen om ze met elkaar te kunnen vergelijken door ze te centreren en schalen: het transformeert numerieke gegevens zodat ze een standaard deviatie van één en een gemiddelde van nul hebben.</li>
<li>Sterk gecorreleerde waarden verwijderen we nu niet, omdat we later in de analyse de eventuele samenhang met andere variabelen in een prognosemodel nog willen kunnen visualiseren.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the recipe: logistic regression</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>lr_recipe <span class="ot">&lt;-</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recipe</span>(Retentie <span class="sc">~</span> ., <span class="at">data =</span> df_retention_train) <span class="sc">|&gt;</span>  </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_role</span>(ID, <span class="at">new_role =</span> <span class="st">"ID"</span>) <span class="sc">|&gt;</span>           <span class="co"># Set the student ID as an ID variable</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ID, Collegejaar) <span class="sc">|&gt;</span>                   <span class="co"># Remove ID and college year from the model</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(Studiekeuzeprofiel, </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">new_level =</span> <span class="st">"Onbekend skp"</span>) <span class="sc">|&gt;</span>   <span class="co"># Add unknown skp</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">|&gt;</span>       <span class="co"># Create dummy variables from categorical variables</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_zv</span>(<span class="fu">all_predictors</span>()) <span class="sc">|&gt;</span>                  <span class="co"># Remove zero values</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_normalize</span>(<span class="fu">all_numeric_predictors</span>())      <span class="co"># Center and scale numeric variables</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the recipe</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(lr_recipe) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Nummer"</span>, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Operatie"</span>, </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Type"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Getraind"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Sla over"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"ID"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-lr-recipe-steps" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lr-recipe-steps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.6: Recipesteps voor logistische regressie
</figcaption>
<div aria-describedby="tbl-lr-recipe-steps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Nummer</th>
<th style="text-align: left;">Operatie</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Getraind</th>
<th style="text-align: left;">Sla over</th>
<th style="text-align: left;">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">step</td>
<td style="text-align: left;">rm</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">rm_t7fOp</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">step</td>
<td style="text-align: left;">unknown</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">unknown_KV8Lp</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">step</td>
<td style="text-align: left;">dummy</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">dummy_bUMsj</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">step</td>
<td style="text-align: left;">zv</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">zv_beaLb</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">step</td>
<td style="text-align: left;">normalize</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">normalize_3WTmw</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>De variabelen die nu nog overblijven zijn:</p>
<div class="cell">
<div id="tbl-lr-recipe-final" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lr-recipe-final-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.7: Resterende variabelen voor logistische regressie na bewerkingen
</figcaption>
<div aria-describedby="tbl-lr-recipe-final-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 29%">
<col style="width: 38%">
<col style="width: 31%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">Aanmelding</td>
<td style="text-align: left;">APCG_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_HB</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Engels</td>
<td style="text-align: left;">APCG_Onbekend</td>
<td style="text-align: left;">Studiekeuzeprofiel_HO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_Natuurkunde</td>
<td style="text-align: left;">Cijfer_CE_Engels_missing_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_ICT</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Nederlands</td>
<td style="text-align: left;">Cijfer_CE_Natuurkunde_missing_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_MedV</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_CE_VO</td>
<td style="text-align: left;">Cijfer_CE_Nederlands_missing_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_TP</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cijfer_CE_Wiskunde</td>
<td style="text-align: left;">Cijfer_CE_VO_missing_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_TR</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cijfer_SE_VO</td>
<td style="text-align: left;">Cijfer_CE_Wiskunde_missing_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_TSL</td>
</tr>
<tr class="even">
<td style="text-align: left;">Leeftijd</td>
<td style="text-align: left;">Cijfer_SE_VO_missing_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_VNL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reistijd</td>
<td style="text-align: left;">Dubbele_studie_Nee</td>
<td style="text-align: left;">Studiekeuzeprofiel_VS</td>
</tr>
<tr class="even">
<td style="text-align: left;">SES_Arbeid</td>
<td style="text-align: left;">Geslacht_V</td>
<td style="text-align: left;">Studiekeuzeprofiel_ZW</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SES_Totaal</td>
<td style="text-align: left;">Studiekeuzeprofiel_CM</td>
<td style="text-align: left;">Studiekeuzeprofiel_Onbekend</td>
</tr>
<tr class="even">
<td style="text-align: left;">SES_Welvaart</td>
<td style="text-align: left;">Studiekeuzeprofiel_EM.CM</td>
<td style="text-align: left;">Vooropleiding_HAVO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Retentie</td>
<td style="text-align: left;">Studiekeuzeprofiel_NT</td>
<td style="text-align: left;">Vooropleiding_VWO</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aansluiting_Tussenjaar</td>
<td style="text-align: left;">Studiekeuzeprofiel_NG</td>
<td style="text-align: left;">Vooropleiding_BD</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Aansluiting_Switch.intern</td>
<td style="text-align: left;">Studiekeuzeprofiel_NT.NG</td>
<td style="text-align: left;">Vooropleiding_CD</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aansluiting_Switch.extern</td>
<td style="text-align: left;">Studiekeuzeprofiel_AHO</td>
<td style="text-align: left;">Vooropleiding_HO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Aansluiting_X2e.Studie</td>
<td style="text-align: left;">Studiekeuzeprofiel_ALG</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Aansluiting_Na.CD</td>
<td style="text-align: left;">Studiekeuzeprofiel_EA</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="maak-de-workflow" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="maak-de-workflow"><span class="header-section-number">2.3.3</span> Maak de workflow</h3>
<p>Voor de uitvoering bouwen we een workflow. Daaraan voegen we het model en de bewerkingen in de recipe toe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the workflow: logistic regression</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>lr_workflow <span class="ot">&lt;-</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">|&gt;</span>         <span class="co"># Create a workflow</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(lr_mod) <span class="sc">|&gt;</span>  <span class="co"># Add the model</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(lr_recipe) <span class="co"># Add the recipe</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Show workflow</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>lr_workflow</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>══ Workflow ════════════════════════════════════════════════════════════════════
Preprocessor: Recipe
Model: logistic_reg()

── Preprocessor ────────────────────────────────────────────────────────────────
5 Recipe Steps

• step_rm()
• step_unknown()
• step_dummy()
• step_zv()
• step_normalize()

── Model ───────────────────────────────────────────────────────────────────────
Logistic Regression Model Specification (classification)

Main Arguments:
  penalty = tune()
  mixture = 1

Computational engine: glmnet </code></pre>
</div>
</div>
</section>
<section id="tune-en-train-het-model" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="tune-en-train-het-model"><span class="header-section-number">2.3.4</span> Tune en train het model</h3>
<p>Het model moet getuned worden. Dit houdt in dat we de beste parameters voor het model moeten vinden. We maken een grid met verschillende penalty waarden. Daarmee kunnen we vervolgens het beste model selecteren met de hoogste ROC/AUC. We plotten de resultaten van de tuning, zodat we hieruit het beste model kunnen kiezen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a grid: logistic regression</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>lr_reg_grid <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">penalty =</span> <span class="dv">10</span> <span class="sc">^</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">30</span>))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Train and tune the model: logistic regression</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>lr_res <span class="ot">&lt;-</span> </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  lr_workflow <span class="sc">|&gt;</span> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tune_grid</span>(df_retention_validation,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">grid =</span> lr_reg_grid,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">control =</span> <span class="fu">control_grid</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">metrics =</span> <span class="fu">metric_set</span>(roc_auc))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results + a red vertical line for the max AUC</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>lr_plot <span class="ot">&lt;-</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  lr_res <span class="sc">|&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> penalty, <span class="at">y =</span> mean)) <span class="sc">+</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make the scale of the x-axis logarithmic</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>()) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">20</span>))</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define the title, subtitle and caption</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> caption,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Area under the ROC Curve"</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Penalty"</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Add theme elements</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>lr_plot <span class="ot">&lt;-</span> <span class="fu">add_theme_elements</span>(lr_plot, <span class="at">title_subtitle =</span> <span class="cn">FALSE</span>)</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the penalty value with the max AUC</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>max_auc_penalty <span class="ot">&lt;-</span> lr_res <span class="sc">|&gt;</span> </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mean <span class="sc">==</span> <span class="fu">max</span>(mean)) <span class="sc">|&gt;</span> </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(penalty)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the red vertical line to lr_plot</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>lr_plot_plus <span class="ot">&lt;-</span> lr_plot <span class="sc">+</span> </span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> max_auc_penalty, <span class="at">color =</span> <span class="st">"red"</span>)</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Find a mean for the max AUC that is higher</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>max_auc_mean <span class="ot">&lt;-</span> lr_res <span class="sc">|&gt;</span> </span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mean <span class="sc">==</span> <span class="fu">max</span>(mean)) <span class="sc">|&gt;</span> </span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(penalty)</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the final plot</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>lr_plot_plus</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-lr-plot" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lr-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-lr-plot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figuur&nbsp;2.3: Tuning resultaten logistische regressie"><img src="ch-models_files/figure-html/fig-lr-plot-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lr-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.3: Tuning resultaten logistische regressie
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="kies-het-beste-model" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="kies-het-beste-model"><span class="header-section-number">2.3.5</span> Kies het beste model</h3>
<p>De prestaties van een model gevisualiseerd met behulp van een ROC curve. De sensitiviteit (True Positive Rate) en specificiteit (True Negative Rate) worden hierin tegenover elkaar uitgezet. De Area under the ROC Curve (AUC/ROC) geeft de prestaties van het model weer. Het model scoort beter naarmate de AUC/ROC dichter bij de 1 ligt, de linker bovenhoek. De linker bovenhoek houdt in dat alle prognoses exact overeenstemmen met de werkelijkheid. Een AUC/ROC van 0,5 betekent dat het model niet beter presteert dan een willekeurige voorspelling.</p>
<p>We gebruiken modellen met een zo hoog mogelijke Area under the ROC Curve (AUC/ROC) en een zo laag mogelijke penalty. Zo kunnen we uit de resultaten het beste model kiezen en visualiseren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the best model</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>top_models <span class="ot">&lt;-</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  lr_res <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="at">metric =</span> <span class="st">"roc_auc"</span>, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean =</span> <span class="fu">round</span>(mean, <span class="dv">6</span>)) <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(penalty) </span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>top_models <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Penalty"</span>, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Metriek"</span>, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Estimator"</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Gemiddelde"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Aantal"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"SE"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Configuratie"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-lr-top-models" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lr-top-models-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.8: Model performance voor logistische regressie
</figcaption>
<div aria-describedby="tbl-lr-top-models-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 15%">
<col style="width: 9%">
<col style="width: 4%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Penalty</th>
<th style="text-align: left;">Metriek</th>
<th style="text-align: left;">Estimator</th>
<th style="text-align: right;">Gemiddelde</th>
<th style="text-align: right;">Aantal</th>
<th style="text-align: right;">SE</th>
<th style="text-align: left;">Configuratie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.0017433</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.669959</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model13</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0022122</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.671680</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model14</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.0028072</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.672992</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model15</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0035622</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.674549</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model16</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.0045204</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.675041</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model17</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0057362</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.676516</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model18</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.0072790</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.678566</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model19</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0092367</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.678975</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model20</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.0117210</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.675492</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model21</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0148735</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.668443</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model22</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the best model: logistic regression</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>lr_best <span class="ot">&lt;-</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  lr_res <span class="sc">|&gt;</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">|&gt;</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mean <span class="sc">==</span> <span class="fu">max</span>(mean)) <span class="sc">|&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) </span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>lr_best <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean =</span> <span class="fu">round</span>(mean, <span class="dv">6</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Penalty"</span>, </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Metriek"</span>, </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Estimator"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Gemiddelde"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Aantal"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"SE"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Configuratie"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-lr-best" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lr-best-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.9: Hoogste model performance voor logistische regressie
</figcaption>
<div aria-describedby="tbl-lr-best-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 15%">
<col style="width: 9%">
<col style="width: 4%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Penalty</th>
<th style="text-align: left;">Metriek</th>
<th style="text-align: left;">Estimator</th>
<th style="text-align: right;">Gemiddelde</th>
<th style="text-align: right;">Aantal</th>
<th style="text-align: right;">SE</th>
<th style="text-align: left;">Configuratie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.0092367</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.678975</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model20</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Collect the predictions and evaluate the model (AUC/ROC): logistic regression</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>lr_auc <span class="ot">&lt;-</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  lr_res <span class="sc">|&gt;</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(<span class="at">parameters =</span> lr_best) <span class="sc">|&gt;</span> </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(Retentie, .pred_FALSE) <span class="sc">|&gt;</span> </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Logistisch Regressie"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ROC curve</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">get_roc_plot</span>(lr_auc, <span class="at">position =</span> <span class="dv">1</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-lrauc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lrauc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-lrauc-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figuur&nbsp;2.4: ROC curve voor logistische regressie"><img src="ch-models_files/figure-html/fig-lrauc-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lrauc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.4: ROC curve voor logistische regressie
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the AUC of the best model</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>lr_auc_highest   <span class="ot">&lt;-</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  lr_res <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(<span class="at">parameters =</span> lr_best) <span class="sc">|&gt;</span> </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_auc</span>(Retentie, .pred_FALSE)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add model name and AUC df_model_results</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>df_model_results <span class="ot">&lt;-</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  df_model_results <span class="sc">|&gt;</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">model =</span> <span class="st">"Logistic Regression"</span>, <span class="at">auc =</span> lr_auc_highest<span class="sc">$</span>.estimate)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<!-- MODEL II: Random Forest -->
</section>
</section>
<section id="model-ii-tree-based-ensemble" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="model-ii-tree-based-ensemble"><span class="header-section-number">2.4</span> Model II: Tree-based ensemble</h2>
<ul>
<li>Het tweede model is een <a href="https://en.wikipedia.org/wiki/Random_forest">random forest</a>: een ensemble van beslisbomen (<em>decision trees</em>). Het is een krachtig model dat goed om kan gaan met complexe data en veel variabelen.</li>
<li>We gebruiken de <a href="https://cran.r-project.org/web/packages/ranger/index.html"><code>ranger</code> engine</a> voor het bouwen van het model.</li>
</ul>
<section id="bepaal-het-aantal-pc-cores" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="bepaal-het-aantal-pc-cores"><span class="header-section-number">2.4.1</span> Bepaal het aantal PC-cores</h3>
<p>Omdat een random forest model veel berekeningen vereist, willen we daarvoor alle computerkracht gebruiken die beschikbaar is. Het aantal CPU’s (<em>cores</em>), wat verschilt per computer, bepaalt hoe snel het model getraind kan worden. We bepalen het aantal cores en gebruiken dat bij het bouwen van het model.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the number of cores</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>()</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="maak-het-model-1" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="maak-het-model-1"><span class="header-section-number">2.4.2</span> Maak het model</h3>
<p>We bouwen eerst het model. We gebruiken de <code>rand_forest</code> functie om het model te bouwen. We tunen de <code>mtry</code> en <code>min_n</code> parameters. De <code>mtry</code> parameter bepaalt het aantal variabelen dat per boom wordt gebruikt. De <code>min_n</code> parameter bepaalt het minimum aantal observaties dat in een blad van de boom moet zitten. De functie <code>tune()</code> is hier nog een <em>placeholder</em> om de beste waarden voor deze parameters - die we later bepalen - in te kunnen stellen. We gebruiken 1.000 bomen c.q. versies van het model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the model: random forest</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>rf_mod <span class="ot">&lt;-</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rand_forest</span>(<span class="at">mtry =</span> <span class="fu">tune</span>(), <span class="at">min_n =</span> <span class="fu">tune</span>(), <span class="at">trees =</span> <span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"ranger"</span>, <span class="at">num.threads =</span> cores) <span class="sc">|&gt;</span> </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="maak-de-recipe-1" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="maak-de-recipe-1"><span class="header-section-number">2.4.3</span> Maak de recipe</h3>
<p>We maken een recipe voor het random forest model. We verwijderen de student ID en het collegejaar uit de data, omdat deze niet moet worden gebruikt in het model. Overige stappen zijn bij een random forest minder relevant in tegenstelling tot een regressiemodel.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the recipe: random forest</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>rf_recipe <span class="ot">&lt;-</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recipe</span>(Retentie <span class="sc">~</span> ., <span class="at">data =</span> df_retention_train) <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(Studiekeuzeprofiel, </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">new_level =</span> <span class="st">"Onbekend skp"</span>) <span class="sc">|&gt;</span>   <span class="co"># Add unknown skp</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ID, Collegejaar)                      <span class="co"># Remove ID and Collegejaar from the model</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the recipe</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(rf_recipe) <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Nummer"</span>, </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Operatie"</span>, </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Type"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Getraind"</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Sla over"</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"ID"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-rf-recipe" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-rf-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.10: Recipesteps voor random forest
</figcaption>
<div aria-describedby="tbl-rf-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Nummer</th>
<th style="text-align: left;">Operatie</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Getraind</th>
<th style="text-align: left;">Sla over</th>
<th style="text-align: left;">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">step</td>
<td style="text-align: left;">unknown</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">unknown_QY996</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">step</td>
<td style="text-align: left;">rm</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">rm_Q9GeT</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="maak-de-workflow-1" class="level3" data-number="2.4.4">
<h3 data-number="2.4.4" class="anchored" data-anchor-id="maak-de-workflow-1"><span class="header-section-number">2.4.4</span> Maak de workflow</h3>
<p>We voegen het model en de recipe toe aan de workflow voor dit model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the workflow: random forest</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>rf_workflow <span class="ot">&lt;-</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">|&gt;</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(rf_mod) <span class="sc">|&gt;</span> </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rf_recipe)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Show workflow</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>rf_workflow</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>══ Workflow ════════════════════════════════════════════════════════════════════
Preprocessor: Recipe
Model: rand_forest()

── Preprocessor ────────────────────────────────────────────────────────────────
2 Recipe Steps

• step_unknown()
• step_rm()

── Model ───────────────────────────────────────────────────────────────────────
Random Forest Model Specification (classification)

Main Arguments:
  mtry = tune()
  trees = 1000
  min_n = tune()

Engine-Specific Arguments:
  num.threads = cores

Computational engine: ranger </code></pre>
</div>
</div>
</section>
<section id="tune-en-train-het-model-1" class="level3" data-number="2.4.5">
<h3 data-number="2.4.5" class="anchored" data-anchor-id="tune-en-train-het-model-1"><span class="header-section-number">2.4.5</span> Tune en train het model</h3>
<p>We trainen en tunen het model in de workflow. We maken een grid met verschillende waarden voor de parameters <code>mtry</code> en <code>min_n</code>. We gebruiken de Area under the ROC Curve (AUC/ROC) als performance metric. Met de resultaten van de tuning kiezen we het beste model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the parameters that can be tuned</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>rf_mod</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Random Forest Model Specification (classification)

Main Arguments:
  mtry = tune()
  trees = 1000
  min_n = tune()

Engine-Specific Arguments:
  num.threads = cores

Computational engine: ranger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the parameters being tuned</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">extract_parameter_set_dials</span>(rf_mod)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Collection of 2 parameters for tuning</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> identifier  type    object
       mtry  mtry nparam[?]
      min_n min_n nparam[+]</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Model parameters needing finalization:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code># Randomly Selected Predictors ('mtry')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>See `?dials::finalize()` or `?dials::update.parameters()` for more information.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the seed</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2904</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the grid: random forest</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>rf_res <span class="ot">&lt;-</span> </span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  rf_workflow <span class="sc">|&gt;</span> </span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tune_grid</span>(df_retention_validation,</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">grid =</span> <span class="dv">25</span>,</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">control =</span> <span class="fu">control_grid</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">metrics =</span> <span class="fu">metric_set</span>(roc_auc))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>i Creating pre-processing data to finalize unknown parameter: mtry</code></pre>
</div>
</div>
</section>
<section id="kies-het-beste-model-1" class="level3" data-number="2.4.6">
<h3 data-number="2.4.6" class="anchored" data-anchor-id="kies-het-beste-model-1"><span class="header-section-number">2.4.6</span> Kies het beste model</h3>
<p>We evalueren de beste modellen en maken een ROC curve om de performance van het model te visualiseren. Vervolgens vergelijken we de prestaties van de modellen en kiezen daaruit het beste model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the best models</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>rf_res <span class="sc">|&gt;</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="at">metric =</span> <span class="st">"roc_auc"</span>, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean =</span> <span class="fu">round</span>(mean, <span class="dv">6</span>)) <span class="sc">|&gt;</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Mtry"</span>, </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Min. aantal"</span>, </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Metriek"</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Estimator"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Gemiddelde"</span>,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Aantal"</span>,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"SE"</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Configuratie"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-rf-results" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-rf-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.11: Model performance voor random forest
</figcaption>
<div aria-describedby="tbl-rf-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 6%">
<col style="width: 15%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Mtry</th>
<th style="text-align: right;">Min. aantal</th>
<th style="text-align: left;">Metriek</th>
<th style="text-align: left;">Estimator</th>
<th style="text-align: right;">Gemiddelde</th>
<th style="text-align: right;">Aantal</th>
<th style="text-align: right;">SE</th>
<th style="text-align: left;">Configuratie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.696475</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model11</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.693525</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model06</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.693402</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model07</td>
</tr>
<tr class="even">
<td style="text-align: right;">20</td>
<td style="text-align: right;">38</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.693074</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model21</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.692787</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model04</td>
</tr>
<tr class="even">
<td style="text-align: right;">11</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.692500</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model12</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.692418</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model05</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">33</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.690902</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model03</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.690861</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model16</td>
</tr>
<tr class="even">
<td style="text-align: right;">24</td>
<td style="text-align: right;">32</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.690492</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model25</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.689713</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model08</td>
</tr>
<tr class="even">
<td style="text-align: right;">9</td>
<td style="text-align: right;">21</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.689344</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model10</td>
</tr>
<tr class="odd">
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.688238</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model23</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.686578</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model17</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.685205</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Preprocessor1_Model20</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>autoplot <span class="ot">&lt;-</span> <span class="fu">autoplot</span>(rf_res) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"roc/auc"</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> caption</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add theme elements</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>autoplot <span class="ot">&lt;-</span> <span class="fu">add_theme_elements</span>(autoplot, <span class="at">title_subtitle =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(autoplot)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-rf-results" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rf-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-rf-results-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Figuur&nbsp;2.5: Model performance random forest"><img src="ch-models_files/figure-html/fig-rf-results-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rf-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.5: Model performance random forest
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the best model</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>rf_best <span class="ot">&lt;-</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  rf_res <span class="sc">|&gt;</span> </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_best</span>(<span class="at">metric =</span> <span class="st">"roc_auc"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>rf_best <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Mtry"</span>, </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Min. aantal"</span>, </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Configuratie"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-ref-best" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ref-best-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.12: Hoogste model performance voor random forest
</figcaption>
<div aria-describedby="tbl-ref-best-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Mtry</th>
<th style="text-align: right;">Min. aantal</th>
<th style="text-align: left;">Configuratie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">Preprocessor1_Model11</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Collect the predictions</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>rf_res <span class="sc">|&gt;</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.pred_FALSE =</span> scales<span class="sc">::</span><span class="fu">percent</span>(.pred_FALSE, <span class="at">accuracy =</span> <span class="fl">0.1</span>),</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">.pred_TRUE =</span> scales<span class="sc">::</span><span class="fu">percent</span>(.pred_TRUE, <span class="at">accuracy =</span> <span class="fl">0.1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"% Voorsp. FALSE"</span>, </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"% Voorsp. TRUE"</span>, </span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"ID"</span>,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Rij"</span>,</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Mtry"</span>, </span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Min. aantal"</span>, </span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Retentie"</span>,</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Configuratie"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-rf-predictions" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-rf-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.13: Predicties voor random forest
</figcaption>
<div aria-describedby="tbl-rf-predictions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 15%">
<col style="width: 11%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 12%">
<col style="width: 9%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">% Voorsp. FALSE</th>
<th style="text-align: left;">% Voorsp. TRUE</th>
<th style="text-align: left;">ID</th>
<th style="text-align: right;">Rij</th>
<th style="text-align: right;">Mtry</th>
<th style="text-align: right;">Min. aantal</th>
<th style="text-align: left;">Retentie</th>
<th style="text-align: left;">Configuratie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">46.2%</td>
<td style="text-align: left;">53.8%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">968</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="even">
<td style="text-align: left;">39.2%</td>
<td style="text-align: left;">60.8%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">969</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">40.1%</td>
<td style="text-align: left;">59.9%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">970</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="even">
<td style="text-align: left;">40.4%</td>
<td style="text-align: left;">59.6%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">971</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">39.7%</td>
<td style="text-align: left;">60.3%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">972</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="even">
<td style="text-align: left;">36.3%</td>
<td style="text-align: left;">63.7%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">973</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">33.6%</td>
<td style="text-align: left;">66.4%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">974</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="even">
<td style="text-align: left;">37.7%</td>
<td style="text-align: left;">62.3%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">975</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">44.7%</td>
<td style="text-align: left;">55.3%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">976</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
<tr class="even">
<td style="text-align: left;">33.3%</td>
<td style="text-align: left;">66.7%</td>
<td style="text-align: left;">validation</td>
<td style="text-align: right;">977</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">Preprocessor1_Model01</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the AUC/ROC curve</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>rf_auc <span class="ot">&lt;-</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  rf_res <span class="sc">|&gt;</span> </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(<span class="at">parameters =</span> rf_best) <span class="sc">|&gt;</span> </span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(Retentie, .pred_FALSE) <span class="sc">|&gt;</span> </span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Random Forest"</span>)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ROC curve</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="fu">get_roc_plot</span>(rf_auc, <span class="at">position =</span> <span class="dv">2</span>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the AUC of the best model</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>rf_auc_highest   <span class="ot">&lt;-</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  rf_res <span class="sc">|&gt;</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(<span class="at">parameters =</span> rf_best) <span class="sc">|&gt;</span> </span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_auc</span>(Retentie, .pred_FALSE)</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add model name and AUC to df_model_results</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>df_model_results <span class="ot">&lt;-</span> </span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  df_model_results <span class="sc">|&gt;</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">model =</span> <span class="st">"Random Forest"</span>, </span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">auc =</span> rf_auc_highest<span class="sc">$</span>.estimate)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-rf-auc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rf-auc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-rf-auc-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figuur&nbsp;2.6: ROC curve voor random forest"><img src="ch-models_files/figure-html/fig-rf-auc-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rf-auc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.6: ROC curve voor random forest
</figcaption>
</figure>
</div>
</div>
</div>
<!-- Final Fit -->
</section>
</section>
<section id="de-uiteindelijke-fit" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="de-uiteindelijke-fit"><span class="header-section-number">2.5</span> De uiteindelijke fit</h2>
<ul>
<li>In de laatste stap van deze analyse maken we het model definitief.</li>
<li>We testen het model op de testset en evalueren het model met metrieken en de Variable Importance (VI). De VI kwantificeert de bijdrage van elke variabele aan de voorspellende kracht van een model. Het identificeert welke variabelen significant zijn voor de modelprestaties, wat essentieel is voor het interpreteren en optimaliseren van een model <span class="citation" data-cites="VanderLaan.2006">(<a href="ch-references.html#ref-VanderLaan.2006" role="doc-biblioref">Van der Laan, 2006</a>)</span>. Methoden zoals de Shapley-waarde en permutation importance worden vaak toegepast om dit belang te meten. Op deze methoden komen we terug in het volgende hoofdstuk.</li>
</ul>
<section id="combineer-de-aucroc-curves-en-kies-het-beste-model" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="combineer-de-aucroc-curves-en-kies-het-beste-model"><span class="header-section-number">2.5.1</span> Combineer de AUC/ROC curves en kies het beste model</h3>
<p>Eerst combineren we de AUC/ROC curves van de modellen om ze te vergelijken. We kiezen het beste model op basis van de hoogste AUC/ROC.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the AUC/ROC curves to compare the models</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">get_roc_plot</span>(<span class="fu">list</span>(lr_auc, rf_auc))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-bind-rows-auc-roc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bind-rows-auc-roc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-bind-rows-auc-roc-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Figuur&nbsp;2.7: Gecombineerde ROC curves"><img src="ch-models_files/figure-html/fig-bind-rows-auc-roc-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bind-rows-auc-roc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.7: Gecombineerde ROC curves
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine which of the models is best based on highest AUC/ROC</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>df_model_results <span class="ot">&lt;-</span> df_model_results <span class="sc">|&gt;</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">number =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">best =</span> <span class="fu">ifelse</span>(auc <span class="sc">==</span> <span class="fu">max</span>(auc), <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(number)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the best model</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>best_model     <span class="ot">&lt;-</span> df_model_results<span class="sc">$</span>model[df_model_results<span class="sc">$</span>best <span class="sc">==</span> <span class="cn">TRUE</span>]</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>best_model_auc <span class="ot">&lt;-</span> <span class="fu">round</span>(df_model_results<span class="sc">$</span>auc[df_model_results<span class="sc">$</span>best <span class="sc">==</span> <span class="cn">TRUE</span>], <span class="dv">4</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Het beste model is het <strong>Random Forest</strong> model met een <strong>AUC/ROC van 0.6965</strong>. Het Logistic Regression model heeft een AUC van 0.679. We ronden de analyse verder af met het Random Forest model op de validatieset.</p>
</section>
<section id="maak-het-finale-model" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="maak-het-finale-model"><span class="header-section-number">2.5.2</span> Maak het finale model</h3>
<p>We maken het finale model op basis van de beste parameters die we hebben gevonden. Door in de engine bij <code>importance</code> de <code>impurity</code> op te geven, wordt het beste random forest model gekozen om de data definitief mee te classificeren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the developed model on the test set</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the optimal parameters</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the final models</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>last_lr_mod <span class="ot">&lt;-</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">logistic_reg</span>(<span class="at">penalty =</span> lr_best<span class="sc">$</span>penalty,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">mixture =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"glmnet"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>last_rf_mod <span class="ot">&lt;-</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rand_forest</span>(<span class="at">mtry =</span> rf_best<span class="sc">$</span>mtry,</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">min_n =</span> rf_best<span class="sc">$</span>min_n,</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">trees =</span> <span class="dv">1000</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"ranger"</span>, <span class="at">num.threads =</span> cores, <span class="at">importance =</span> <span class="st">"impurity"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="maak-de-workflow-2" class="level3" data-number="2.5.3">
<h3 data-number="2.5.3" class="anchored" data-anchor-id="maak-de-workflow-2"><span class="header-section-number">2.5.3</span> Maak de workflow</h3>
<p>We voegen het model toe aan de workflow en updaten de workflow met het finale model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the workflows</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>last_lr_workflow <span class="ot">&lt;-</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  lr_workflow <span class="sc">|&gt;</span> </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_model</span>(last_lr_mod)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>last_rf_workflow <span class="ot">&lt;-</span> </span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  rf_workflow <span class="sc">|&gt;</span> </span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_model</span>(last_rf_mod)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fit-het-finale-model" class="level3" data-number="2.5.4">
<h3 data-number="2.5.4" class="anchored" data-anchor-id="fit-het-finale-model"><span class="header-section-number">2.5.4</span> Fit het finale model</h3>
<p>We voeren de finale fit uit. De functie <code>last_fit</code> past het model toe op de validatieset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the final fit</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2904</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a final fit for both models so we can save it for later use</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>last_fit_lr <span class="ot">&lt;-</span> </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  last_lr_workflow <span class="sc">|&gt;</span> </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">last_fit</span>(splits)</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>last_fit_rf <span class="ot">&lt;-</span> </span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  last_rf_workflow <span class="sc">|&gt;</span> </span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">last_fit</span>(splits)</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>last_fits <span class="ot">&lt;-</span> <span class="fu">list</span>(last_fit_lr, last_fit_rf) <span class="sc">|&gt;</span> </span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="fu">c</span>(<span class="st">"Logistic Regression"</span>, <span class="st">"Random Forest"</span>))</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine which model is best</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (best_model <span class="sc">==</span> <span class="st">"Logistic Regression"</span>) {</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>  last_fit <span class="ot">&lt;-</span> last_fit_lr</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (best_model <span class="sc">==</span> <span class="st">"Random Forest"</span>) {</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>  last_fit <span class="ot">&lt;-</span> last_fit_rf</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep results, model results and associated data</span></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>fittedmodels_outputpath <span class="ot">&lt;-</span> <span class="fu">get_model_outputpath</span>(<span class="at">mode =</span> <span class="st">"last-fits"</span>)</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(last_fits, <span class="at">file =</span> fittedmodels_outputpath)</span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>modelresults_outputpath <span class="ot">&lt;-</span> <span class="fu">get_model_outputpath</span>(<span class="at">mode =</span> <span class="st">"modelresults"</span>)</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(df_model_results, <span class="at">file =</span> modelresults_outputpath)</span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>data_outputpath <span class="ot">&lt;-</span> <span class="fu">get_model_outputpath</span>(<span class="at">mode =</span> <span class="st">"data"</span>)</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(df_sp_enrollments, <span class="at">file =</span> data_outputpath)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evalueer-het-finale-model-metrieken-en-variable-importance" class="level3" data-number="2.5.5">
<h3 data-number="2.5.5" class="anchored" data-anchor-id="evalueer-het-finale-model-metrieken-en-variable-importance"><span class="header-section-number">2.5.5</span> Evalueer het finale model: metrieken en variable importance</h3>
<p>We evalueren het finale model nu grondiger op basis van 4 metrieken: 1) accuraatheid, 2) ROC/AUC en 3) de <a href="https://en.wikipedia.org/wiki/Brier_score">Brier score</a> (de Mean Squared Error). Het is zinvol om accuraatheid, ROC/AUC en de Brier-score pas bij het finale model toe te passen, omdat dit efficiënter is en overfitting voorkomt. Zo combineren we een snelle modelist_selectie met een grondige evaluatie van het uiteindelijke model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Collect the metrics</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>last_fit <span class="sc">|&gt;</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">|&gt;</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.estimate =</span> <span class="fu">round</span>(.estimate, <span class="dv">4</span>)) <span class="sc">|&gt;</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Metriek"</span>, </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Estimator"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Estimate"</span>,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Configuratie"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Metriek</th>
<th style="text-align: left;">Estimator</th>
<th style="text-align: right;">Estimate</th>
<th style="text-align: left;">Configuratie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.6451</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.6729</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">brier_class</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.2174</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="plot-de-roc-curve" class="level3" data-number="2.5.6">
<h3 data-number="2.5.6" class="anchored" data-anchor-id="plot-de-roc-curve"><span class="header-section-number">2.5.6</span> Plot de ROC curve</h3>
<p>Tot slot visualiseren we de prestaties weer met een ROC curve van het beste model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the roc curve</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>auc_lf <span class="ot">&lt;-</span> last_fit <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(Retentie, .pred_FALSE) <span class="sc">|&gt;</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Last fit"</span>)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="fu">get_roc_plot</span>(auc_lf, <span class="at">position =</span> <span class="dv">3</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-last-fit-roc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-last-fit-roc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-last-fit-roc-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Figuur&nbsp;2.8: ROC curve finale model"><img src="ch-models_files/figure-html/fig-last-fit-roc-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-last-fit-roc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.8: ROC curve finale model
</figcaption>
</figure>
</div>
</div>
</div>
<!-- Conclusions -->
</section>
</section>
<section id="conclusies" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="conclusies"><span class="header-section-number">2.6</span> Conclusies</h2>
<section id="het-beste-prognosemodel-voor-deze-opleiding" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="het-beste-prognosemodel-voor-deze-opleiding"><span class="header-section-number">2.6.1</span> Het beste prognosemodel voor deze opleiding</h3>
<p><strong>Het beste prognosemodel blijkt het Random Forest model te zijn.</strong></p>
<ul>
<li>Van de prognosemodellen die we hebben ontwikkeld om retentie na 1 jaar te voorspellen, had het Random Forest model de hoogste AUC/ROC waarde (0.6965).</li>
</ul>
</section>
<section id="mate-van-accuraatheid-en-lift" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="mate-van-accuraatheid-en-lift"><span class="header-section-number">2.6.2</span> Mate van accuraatheid en lift</h3>
<p>Een prognosemodel moet minimaal beter presteren dan een <em>advanced-report</em> om waarde op basis van accuraatheid toe te voegen. Het advanced-report neemt als basis de grootste klasse van de gemiddelde retentie na 1 jaar van de afgelopen jaren. Stel we zouden tegen alle studenten zeggen dat ze hun studie gaan halen, dan is de mate van accuratesse gelijk aan dit advanced-report. Dit advanced-report is dus altijd hoger dan de 50% lijn van de AUC/ROC curve, tenzij het advanced-report toevallig precies 50% is.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/images"</span>, <span class="st">"basemodel-lift.png"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-basemodel-lift" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-basemodel-lift-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="R/images/basemodel-lift.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Figuur&nbsp;2.9: Lift afhankelijk van advanced-report en accuraatheid"><img src="R/images/basemodel-lift.png" class="img-fluid figure-img" style="width:80.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-basemodel-lift-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.9: Lift afhankelijk van advanced-report en accuraatheid
</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>De mate van accuraatheid van het prognosemodel is vrij laag (64.51%).</strong></p>
<ul>
<li><strong>Base model: 62.12%</strong> – Voor deze opleiding berekenen we het base model als volgt. Van alle studenten studeerde 62.12% door; 100% - 62.12% = 37.88% studeerde <em>niet</em> door. De grootste klasse van deze twee, 62.12%, is daarmee de accuratesse van het Base model.</li>
<li><strong>Accuratesse prognose: 64.51%</strong> – Het model voorspelt Retentie na 1 jaar met een accuratesse van 64.51%.</li>
<li><strong>Lift: 2.39%</strong> – Het model scoort in de huidige opbouw met een verschil van 2.39% (de <em>lift</em>) iets beter dan de accuraatheid van het advanced-report.</li>
</ul>
</section>
<section id="confusion-matrix" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="confusion-matrix"><span class="header-section-number">2.6.3</span> Confusion Matrix</h3>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the confusion matrix</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>confusion_matrix <span class="ot">&lt;-</span> last_fit <span class="sc">|&gt;</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">|&gt;</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">conf_mat</span>(<span class="at">truth =</span> Retentie, <span class="at">estimate =</span> .pred_class) </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>df_confusion_matrix <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(confusion_matrix<span class="sc">$</span>table) <span class="sc">|&gt;</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Werkelijkheid =</span> Truth) <span class="sc">|&gt;</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Werkelijkheid =</span> <span class="fu">ifelse</span>(Werkelijkheid <span class="sc">==</span> <span class="st">"TRUE"</span>, <span class="st">"Retentie"</span>, <span class="st">"Geen retentie"</span>),</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prediction    =</span> <span class="fu">ifelse</span>(Prediction <span class="sc">==</span> <span class="st">"TRUE"</span>, <span class="st">"Retentie"</span>, <span class="st">"Geen retentie"</span>))</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>tp_percentage  <span class="ot">&lt;-</span> <span class="fu">change_number_marks</span>((df_confusion_matrix<span class="sc">$</span>n[<span class="dv">4</span>] <span class="sc">/</span> </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">sum</span>(df_confusion_matrix<span class="sc">$</span>n) <span class="sc">*</span> <span class="dv">100</span>), <span class="dv">1</span>)</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>fp_percentage  <span class="ot">&lt;-</span> <span class="fu">change_number_marks</span>((df_confusion_matrix<span class="sc">$</span>n[<span class="dv">2</span>] <span class="sc">/</span> </span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">sum</span>(df_confusion_matrix<span class="sc">$</span>n) <span class="sc">*</span> <span class="dv">100</span>), <span class="dv">1</span>)</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>tn_percentage  <span class="ot">&lt;-</span> <span class="fu">change_number_marks</span>((df_confusion_matrix<span class="sc">$</span>n[<span class="dv">1</span>] <span class="sc">/</span> </span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">sum</span>(df_confusion_matrix<span class="sc">$</span>n) <span class="sc">*</span> <span class="dv">100</span>), <span class="dv">1</span>)</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>fn_percentage  <span class="ot">&lt;-</span> <span class="fu">change_number_marks</span>((df_confusion_matrix<span class="sc">$</span>n[<span class="dv">3</span>] <span class="sc">/</span> </span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">sum</span>(df_confusion_matrix<span class="sc">$</span>n) <span class="sc">*</span> <span class="dv">100</span>), <span class="dv">1</span>)</span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>acc_percentage <span class="ot">&lt;-</span> <span class="fu">change_number_marks</span>(last_fit_accuracy, <span class="dv">1</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>De prestaties van het model kunnen we verder uitdrukken in een <em>confusion matrix</em>. Hierin zien we de voorspellingen van het model en de werkelijke uitkomsten. De matrix geeft inzicht in de mate van correcte en incorrecte voorspellingen. Ter illustratie werken we de matrix uit voor een voorspelling waarop een bindend studieadvies (BSA) gebaseerd zou kunnen zijn.</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/images"</span>, <span class="st">"confusion-matrix-retention-lta-hhs.png"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-confusion-matrix-explanation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-confusion-matrix-explanation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="R/images/confusion-matrix-retention-lta-hhs.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="Figuur&nbsp;2.10: Confusion matrix in relatie tot BSA"><img src="R/images/confusion-matrix-retention-lta-hhs.png" class="img-fluid figure-img" width="998"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-confusion-matrix-explanation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.10: Confusion matrix in relatie tot BSA
</figcaption>
</figure>
</div>
</div>
</div>
<p>We passen de confusion matrix nu toe op het model dat als beste naar voren kwam. De <strong>accuraatheid</strong> van dit model is <strong>64,5%</strong>. De accuraatheid van het model berekenen we door de som van de diagonaal te berekenen: het aandeel goed voorspelde uitkomsten, Retentie = Retentie (<em>True Positive</em>) en Geen retentie = Geen retentie (<em>True Negative</em>), af te zetten tegen het totaal aantal voorspellingen: 54,9% + 9,6% = 64,5%. (NB. De weergave in deze confusion matrix is diagonaal gespiegeld vergeleken met het voorbeeld.)</p>
<div class="cell">
<details class="code-fold">
<summary>Toon code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>confusion_plot <span class="ot">&lt;-</span> <span class="fu">plot_confusion_matrix</span>(df_confusion_matrix,</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">target_col =</span> <span class="st">"Werkelijkheid"</span>,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">prediction_col =</span> <span class="st">"Prediction"</span>,</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">counts_col =</span> <span class="st">"n"</span>,</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">palette =</span> <span class="st">"Blues"</span>,</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">add_sums =</span> <span class="cn">TRUE</span>,</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">theme_fn =</span> ggplot2<span class="sc">::</span>theme_light,</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">sums_settings =</span> <span class="fu">sum_tile_settings</span>(</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">palette =</span> <span class="st">"Greens"</span>,</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">label =</span> <span class="st">"Totaal"</span>,</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tc_tile_border_color =</span> <span class="st">"black"</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>                                        )) <span class="sc">+</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Customize the labels</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Werkelijke uitkost"</span>,</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Voorspelde uitkomst"</span>,</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> caption</span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_theme</span>()</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Add theme elements</span></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>confusion_plot <span class="ot">&lt;-</span> <span class="fu">add_theme_elements</span>(confusion_plot, <span class="at">title_subtitle =</span> <span class="cn">TRUE</span>)</span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(confusion_plot)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-confusion-matrix-actual" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-confusion-matrix-actual-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="ch-models_files/figure-html/fig-confusion-matrix-actual-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="Figuur&nbsp;2.11: Confusion matrix ten opzichte van Retentie na 1 jaar"><img src="ch-models_files/figure-html/fig-confusion-matrix-actual-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-confusion-matrix-actual-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;2.11: Confusion matrix ten opzichte van Retentie na 1 jaar
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="uitleggen-of-verklaren" class="level3" data-number="2.6.4">
<h3 data-number="2.6.4" class="anchored" data-anchor-id="uitleggen-of-verklaren"><span class="header-section-number">2.6.4</span> Uitleggen of verklaren?</h3>
<p>Naast de accuraatheid van het model is het ook belangrijk om te weten welke factoren het meest bijdragen aan de voorspelling van retentie na 1 jaar. Daarin gaat de vergelijking met de prestaties van het basemodel mank. Dat model geeft op geen enkele manier aan waarom een student een kans op succes heeft, anders dan - ‘dit is gebruikelijk in deze opleiding’.</p>
<p>Ongeacht de mate van accuraatheid, is het voor onderzoek naar kansengelijkheid essentieel om te weten welke factoren het meest bijdragen aan de voorspelling van retentie na 1 jaar. Het gaat erom dat we het belang van de factoren in de voorspellingen kunnen begrijpen en duiden. Machine Learning is hiervoor uitstekend geschikt, omdat het de mogelijkheid biedt om de belangrijkste factoren en hun invloed te leren kennen <span class="citation" data-cites="Shmueli.2010 Shmueli.2011">(<a href="ch-references.html#ref-Shmueli.2010" role="doc-biblioref">Shmueli, 2010</a>; <a href="ch-references.html#ref-Shmueli.2011" role="doc-biblioref">Shmueli &amp; Koppius, 2011</a>)</span>.</p>
<!-- -   **Vooralsnog geen nadere bijzonderheden.** -->
<!-- FOOTER -->
<!-- Justification -->
<p>&nbsp;</p>
<p><strong>Verantwoording</strong></p>
<p>Deze analyse maakt deel uit van het onderzoek naar kansengelijkheid van het lectoraat Learning Technology &amp; Analytics van De Haagse Hogeschool: <a href="https://www.dehaagsehogeschool.nl/onderzoek/kenniscentra/no-fairness-without-awareness">No Fairness without Awareness</a> | Het rapport is door het lectoraat ontwikkeld in <a href="https://quarto.org/">Quarto</a> 1.6.39.</p>
<!-- Copyright -->
<p><strong>Creative Commons Licentie</strong></p>
<p>De licentie voor dit template is de <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution Share Alike 4.0 Internationaal</a>.</p>
<!-- Cleaning up -->


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-Bakker.2022" class="csl-entry" role="listitem">
Bakker, T. (2022). <em><span>Study Progression and Success of Autistic Students in Higher Education. A Longitudinal, Propensity Score-Weighted Population Study.</span></em> <a href="https://doi.org/10.5463/thesis.1">https://doi.org/10.5463/thesis.1</a>
</div>
<div id="ref-handboek.2018" class="csl-entry" role="listitem">
<em><span>Handboek over het Europese non-discriminatierecht, Editie 2018</span></em>. (2018). [Computer software]. <a href="https://fra.europa.eu/sites/default/files/fra\_uploads/fra-2018-handbook-non-discrimination-law-2018\_nl.pdf">https://fra.europa.eu/sites/default/files/fra\_uploads/fra-2018-handbook-non-discrimination-law-2018\_nl.pdf</a>
</div>
<div id="ref-Shmueli.2010" class="csl-entry" role="listitem">
Shmueli, G. (2010). <span>To Explain or to Predict?</span> <em>Statistical Science</em>, <em>25</em>(3), 289–310. <a href="https://doi.org/10.1214/10-sts330">https://doi.org/10.1214/10-sts330</a>
</div>
<div id="ref-Shmueli.2011" class="csl-entry" role="listitem">
Shmueli, G., &amp; Koppius, O. (2011). <span>Predictive Analytics in Information Systems Research</span>. <em>MIS Quarterly</em>, <em>35</em>(3), 553. <a href="https://doi.org/10.2307/23042796">https://doi.org/10.2307/23042796</a>
</div>
<div id="ref-VanderLaan.2006" class="csl-entry" role="listitem">
Van der Laan, M. J. (2006). Statistical inference for variable importance. <em>The International Journal of Biostatistics</em>, <em>2</em>(1).
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Gekopieerd!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Gekopieerd!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ch-introduction.html" class="pagination-link" aria-label="Inleiding">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Inleiding</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ch-factors.html" class="pagination-link" aria-label="Analyse van factoren">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Analyse van factoren</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/LTA-HHs/lta-hhs-tidymodels-studiesucces/issues/new" class="toc-action"><i class="bi bi-github"></i>Een probleem melden</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>